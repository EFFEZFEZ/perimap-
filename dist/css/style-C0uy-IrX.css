.leaflet-control-zoom,.leaflet-control-layers,.leaflet-control-scale{display:none!important}.leaflet-control-attribution{font-size:9px;background:#ffffffb3!important;padding:2px 8px!important;border-radius:4px 0 0;color:#666}body.dark-theme .leaflet-control-attribution{background:#0f141eb3!important;color:#ffffff80}.map-floating-controls{display:flex;border-radius:50%;overflow:hidden;background:#fff;box-shadow:0 2px 10px #0000001f,0 1px 4px #00000014}.leaflet-bottom.leaflet-right .map-floating-controls{margin-bottom:20px;margin-right:14px}.map-btn-locate{display:flex;align-items:center;justify-content:center;width:46px;height:46px;padding:0;margin:0;border:none;background:transparent;cursor:pointer;transition:all .15s ease}.map-btn-locate:hover{background:#22c55e14}.map-btn-locate:active{background:#22c55e26;transform:scale(.96)}.map-btn-locate svg{width:22px;height:22px;color:#22c55e;transition:all .15s ease}.map-btn-locate:hover svg{color:#16a34a;transform:scale(1.1)}.map-btn-locate.is-loading{pointer-events:none}.map-btn-locate.is-loading svg{animation:locate-pulse 1s ease-in-out infinite}@keyframes locate-pulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(.9)}}.map-btn-locate.has-error{background:#ef44441a}.map-btn-locate.has-error svg{color:#ef4444;animation:locate-shake .4s ease}@keyframes locate-shake{0%,to{transform:translate(0)}20%,60%{transform:translate(-3px)}40%,80%{transform:translate(3px)}}body.dark-theme .map-floating-controls{background:#1e2330;box-shadow:0 4px 24px #0006,0 2px 8px #0000004d,inset 0 1px #ffffff0d}body.dark-theme .map-btn-locate:hover{background:#22c55e1f}body.dark-theme .map-btn-locate svg{color:#4ade80}body.dark-theme .map-btn-locate:hover svg{color:#22c55e}body.dark-theme .map-btn-locate.has-error{background:#ef444426}@media (max-width: 768px){.leaflet-bottom.leaflet-right .map-floating-controls{margin-bottom:90px;margin-right:12px}.map-floating-controls{border-radius:12px}.map-btn-locate{width:44px;height:44px}.map-btn-locate svg{width:20px;height:20px}}@media (max-width: 380px){.leaflet-bottom.leaflet-right .map-floating-controls{margin-right:8px}.map-btn-locate,.map-btn-zoom-in,.map-btn-zoom-out,.map-control-btn{width:40px;height:40px}}:root{--pm-green: #22c55e;--pm-green-hover: #16a34a;--pm-green-light: rgba(34, 197, 94, .1);--pm-green-glow: rgba(34, 197, 94, .3);--pm-cyan: #00c8ff;--pm-cyan-hover: #0ea5e9;--pm-cyan-light: rgba(0, 200, 255, .1);--pm-gradient: linear-gradient(135deg, #22c55e 0%, #00c8ff 100%);--pm-gradient-text: linear-gradient(135deg, #22c55e, #00c8ff);--color-blue: #007bff;--color-purple: #6f42c1;--color-orange: #fd7e14;--color-green: var(--pm-green);--color-red: #ef4444;--color-yellow: #eab308;--color-green-check: var(--pm-green);--color-tab-active: var(--pm-green);--color-nav-condensed-bg: #0f172a;--color-nav-condensed-hover: #1e293b;--primary: var(--pm-green);--primary-dark: var(--pm-green-hover);--secondary: #475569;--bg-light: #f8fafc;--bg-main: #ffffff;--bg-secondary: #f1f5f9;--bg-tertiary: #e2e8f0;--text-primary: #0f172a;--text-secondary: #475569;--text-muted: #64748b;--border: #e2e8f0;--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, .05);--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -2px rgba(0, 0, 0, .1);--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -4px rgba(0, 0, 0, .1);--shadow-glow: 0 0 20px var(--pm-green-glow);--radius-sm: 4px;--radius-md: 8px;--radius-lg: 16px;--radius-xl: 24px;--radius-full: 9999px;--spacing-0: 0;--spacing-1: .25rem;--spacing-2: .5rem;--spacing-3: .75rem;--spacing-4: 1rem;--spacing-5: 1.25rem;--spacing-6: 1.5rem;--spacing-8: 2rem;--spacing-10: 2.5rem;--spacing-12: 3rem;--spacing-16: 4rem;--font-size-xs: .75rem;--font-size-sm: .875rem;--font-size-base: 1rem;--font-size-lg: 1.125rem;--font-size-xl: 1.25rem;--font-size-2xl: 1.5rem;--font-size-3xl: 1.875rem;--font-size-4xl: 2.25rem;--font-size-5xl: 3rem;--z-base: 0;--z-dropdown: 100;--z-sticky: 200;--z-fixed: 300;--z-overlay: 400;--z-modal: 500;--z-popover: 600;--z-toast: 700;--elevation-0: none;--elevation-1: 0 1px 3px rgba(0, 0, 0, .12), 0 1px 2px rgba(0, 0, 0, .08);--elevation-2: 0 3px 6px rgba(0, 0, 0, .12), 0 2px 4px rgba(0, 0, 0, .08);--elevation-3: 0 6px 16px rgba(0, 0, 0, .12), 0 3px 6px rgba(0, 0, 0, .08);--elevation-4: 0 12px 24px rgba(0, 0, 0, .12), 0 6px 12px rgba(0, 0, 0, .08);--elevation-5: 0 24px 48px rgba(0, 0, 0, .16), 0 12px 24px rgba(0, 0, 0, .08);--transition-quick: .15s ease-out;--transition-normal: .25s ease-out;--transition-smooth: .35s cubic-bezier(.4, 0, .2, 1);--transition-bounce: .5s cubic-bezier(.34, 1.56, .64, 1);--breakpoint-mobile: 640px;--breakpoint-tablet: 1024px;--breakpoint-desktop: 1025px}.card,.btn,.nav-dropdown-menu,.bottom-sheet,.modal{will-change:transform,opacity;transform:translateZ(0)}#map-view,#itinerary-view,#detail-panel,.tarifs-container{content-visibility:auto;contain-intrinsic-size:0 500px}#main-header{contain:layout style}.results-list,.bottom-sheet-content,.tarifs-card-body{contain:content;overflow-anchor:none}button:focus-visible,a:focus-visible,input:focus-visible,select:focus-visible,textarea:focus-visible,[role=button]:focus-visible,[tabindex]:not([tabindex="-1"]):focus-visible{outline:3px solid var(--pm-green);outline-offset:2px;border-radius:var(--radius-sm)}body.dark-theme button:focus-visible,body.dark-theme a:focus-visible,body.dark-theme input:focus-visible{outline-color:var(--pm-cyan)}.btn-icon-round,.btn-geolocate,.btn-swap-direction,button.btn-close,button.tab{min-width:44px;min-height:44px}@media (prefers-reduced-motion: reduce){*,*:before,*:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}}body.dark-theme{--bg-main: #0b1220;--bg-secondary: #0f1724;--bg-tertiary: #1a2332;--bg-light: #0b1220;--text-primary: #f1f5f9;--text-secondary: #cbd5e1;--text-muted: #94a3b8;--border: rgba(255,255,255,.08);--primary: var(--pm-green);--primary-dark: var(--pm-green-hover);--color-tab-active: var(--pm-green);--color-nav-condensed-bg: rgba(11, 18, 32, .95)}body.dark-theme #main-header{background:#060a0ed9;border-bottom-color:#ffffff0f;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px)}body.dark-theme .card,body.dark-theme .instruction-content{background:#0f172ae6;border-color:#ffffff14;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px)}body.dark-theme .leaflet-popup-content-wrapper{background:#0f172af2!important;border-color:#ffffff1a!important;backdrop-filter:blur(16px)!important;-webkit-backdrop-filter:blur(16px)!important}body.dark-theme .leaflet-popup-tip{background:#0f172af2!important}body.dark-theme .stop-schedule-popup .leaflet-popup-content-wrapper,body.dark-theme .stop-schedule-popup .leaflet-popup-tip{background:#0f172a!important}body.dark-theme .btn,body.dark-theme .btn-icon-round{background:#ffffff05;color:var(--text-primary);border-color:#ffffff0a}body.dark-theme .nav-button-condensed{color:#fff}body.dark-theme #map{background:#06131b}.offline-banner{display:flex;align-items:center;justify-content:center;gap:8px;padding:8px 16px;background:linear-gradient(135deg,#fef3c7,#fde68a);color:#92400e;font-size:13px;font-weight:500;text-align:center;border-bottom:1px solid rgba(146,64,14,.2);animation:slideDown .3s ease;z-index:1000}.offline-banner svg{flex-shrink:0;opacity:.8}.offline-banner.hiding{animation:slideUp .3s ease forwards}body.dark-theme .offline-banner{background:linear-gradient(135deg,#422006,#451a03);color:#fde68a;border-color:#fde68a33}.offline-toast{position:fixed;bottom:80px;left:50%;transform:translate(-50%);display:flex;align-items:center;gap:8px;padding:12px 20px;background:var(--bg-main, #fff);border-radius:12px;box-shadow:0 4px 20px #00000026;font-size:14px;font-weight:500;z-index:10001;animation:fadeInUp .3s ease}.offline-toast-success{border:2px solid var(--pm-green, #22c55e);color:var(--pm-green-hover, #16a34a)}.offline-toast.hiding{animation:fadeOutDown .3s ease forwards}body.dark-theme .offline-toast{background:#1e293b;color:#e2e8f0}body.dark-theme .offline-toast-success{color:#4ade80}@keyframes slideDown{0%{opacity:0;transform:translateY(-100%)}to{opacity:1;transform:translateY(0)}}@keyframes fadeOutDown{0%{opacity:1;transform:translate(-50%)}to{opacity:0;transform:translate(-50%,20px)}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes fadeInDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes slideInLeft{0%{opacity:0;transform:translate(-30px)}to{opacity:1;transform:translate(0)}}@keyframes slideInRight{0%{opacity:0;transform:translate(30px)}to{opacity:1;transform:translate(0)}}@keyframes scaleIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@keyframes pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}@keyframes shake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}@keyframes ripple{to{transform:scale(4);opacity:0}}@keyframes slideUp{0%{opacity:0;transform:translateY(100%)}to{opacity:1;transform:translateY(0)}}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{transform:scale(1.05)}70%{transform:scale(.9)}to{opacity:1;transform:scale(1)}}.animate-fade-in{animation:fadeIn var(--transition-normal) ease-out forwards}.animate-fade-in-up{animation:fadeInUp var(--transition-normal) ease-out forwards}.animate-fade-in-down{animation:fadeInDown var(--transition-normal) ease-out forwards}.animate-slide-in-left{animation:slideInLeft var(--transition-normal) ease-out forwards}.animate-slide-in-right{animation:slideInRight var(--transition-normal) ease-out forwards}.animate-scale-in{animation:scaleIn var(--transition-normal) ease-out forwards}.animate-bounce-in{animation:bounceIn var(--transition-bounce) ease-out forwards}.stagger-1{animation-delay:.05s}.stagger-2{animation-delay:.1s}.stagger-3{animation-delay:.15s}.stagger-4{animation-delay:.2s}.stagger-5{animation-delay:.25s}.stagger-6{animation-delay:.3s}.notification-badge{animation:pulse 2s ease-in-out infinite}@keyframes notificationPop{0%{transform:scale(0);opacity:0}50%{transform:scale(1.2)}to{transform:scale(1);opacity:1}}.page-transition-enter{opacity:0;transform:translateY(10px)}.page-transition-enter-active{opacity:1;transform:translateY(0);transition:opacity var(--transition-normal),transform var(--transition-normal)}.page-transition-exit{opacity:1}.page-transition-exit-active{opacity:0;transition:opacity var(--transition-fast)}@keyframes shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.skeleton{background:linear-gradient(90deg,var(--bg-secondary) 25%,var(--bg-light) 50%,var(--bg-secondary) 75%);background-size:200% 100%;animation:shimmer 1.5s infinite;border-radius:var(--radius-sm)}body.dark-theme #results-map,body.dark-theme #detail-map{background:#050c15}body.dark-theme #top-bar{background:transparent}body.dark-theme #btn-back-to-dashboard-from-map,body.dark-theme #clock,body.dark-theme #status-info{background:#141926f2!important;box-shadow:0 2px 8px #0000004d,0 0 0 1px #ffffff0f!important}body.dark-theme #btn-back-to-dashboard-from-map{color:#e2e8f0!important}body.dark-theme #btn-back-to-dashboard-from-map:hover{background:#1e2637fa!important}body.dark-theme #clock{color:#e2e8f0}body.dark-theme #clock svg{color:#64748b}body.dark-theme #current-time{color:#f1f5f9}body.dark-theme #date-indicator{color:#94a3b8;border-left-color:#ffffff1a}body.dark-theme #status-info{color:#e2e8f0}body.dark-theme #bus-count{color:#4ade80!important}body.dark-theme #data-status{color:#94a3b8;border-left-color:#ffffff1a}body.dark-theme #data-status.loaded{color:#4ade80}body.dark-theme #map-container #map-view #top-bar>#btn-toggle-filter{background:#0f172af2!important;border-color:#ffffff1a!important;color:#f1f5f9!important}body.dark-theme #route-filter-panel{background:#040a12f2;border-left:1px solid rgba(255,255,255,.08);box-shadow:0 20px 30px #000000a6}body.dark-theme #detail-map-summary{background:#060c14e6;color:var(--text-primary);box-shadow:0 12px 30px #0000008c}body.dark-theme #detail-map-header #btn-back-to-results{background:#0f172af2!important;color:#f1f5f9!important;box-shadow:0 4px 12px #0006}body.dark-theme input[type=text],body.dark-theme input[type=search],body.dark-theme .real-select,body.dark-theme textarea{color:#f5f7fb;background-color:#ffffff0d;border-color:#ffffff26}body.dark-theme input[type=text]::placeholder,body.dark-theme input[type=search]::placeholder,body.dark-theme textarea::placeholder{color:#f5f7fb99}body.dark-theme .leaflet-control-locate{background-color:#ffffff08;border-color:#ffffff0a}body,.card,.planner-block,#main-header,#map,.btn,.btn-icon-round{transition:background-color .18s ease,color .18s ease,border-color .18s ease}.btn,.btn-icon-round{pointer-events:auto}.btn-icon-round{display:inline-flex;align-items:center;justify-content:center}.btn-icon-round:focus,.btn-icon-round:focus-visible{outline:none;box-shadow:0 0 0 2px #2563eb26,var(--shadow-md)}.leaflet-bar{border:none!important;box-shadow:none!important;background:transparent!important}.leaflet-control-attribution{background:#ffffffb3!important;color:#666!important;border:none!important;border-radius:4px!important;padding:2px 6px!important;font-size:10px!important;line-height:1.2!important;box-shadow:none!important;backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);opacity:.7;transition:opacity .2s}.leaflet-control-attribution:hover{opacity:1}.leaflet-control-attribution a{color:#444!important;text-decoration:none}.leaflet-control-attribution a:hover{text-decoration:underline}body.dark-theme .leaflet-control-attribution,#map.dark-theme .leaflet-control-attribution,#detail-map.dark-theme .leaflet-control-attribution,#results-map.dark-theme .leaflet-control-attribution{background:#00000080!important;color:#ffffff80!important}body.dark-theme .leaflet-control-attribution a,#map.dark-theme .leaflet-control-attribution a,#detail-map.dark-theme .leaflet-control-attribution a,#results-map.dark-theme .leaflet-control-attribution a{color:#fff9!important}#map{z-index:1}.leaflet-top.leaflet-right{right:12px;top:12px}@media (max-width: 768px){.leaflet-top.leaflet-right{right:10px;top:auto;bottom:80px}}*{margin:0;padding:0;box-sizing:border-box}html,body{height:auto;min-height:100%;width:100%;overflow-x:hidden;-webkit-font-smoothing:antialiased;font-family:Manrope,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;color:var(--text-primary);background-color:var(--bg-light);overscroll-behavior-y:none}body{display:flex;flex-direction:column;min-height:100vh;min-height:100dvh;overflow-y:auto;-webkit-overflow-scrolling:touch}#app-view-root{flex:1 0 auto;display:flex;flex-direction:column;min-height:0;overflow-y:visible}#legal-strip{background:#ffffffeb;border-top:1px solid var(--border);padding:.75rem 1.25rem;font-size:.78rem;color:var(--text-secondary);box-shadow:0 -6px 12px #0f172a0d;width:100%;margin-top:auto}.legal-strip-content{max-width:1300px;margin:0 auto;display:flex;flex-wrap:wrap;gap:.75rem 1.5rem;align-items:center;justify-content:space-between}.legal-strip-content a{color:var(--primary);font-weight:600}.legal-strip-content code{font-family:Manrope,monospace;font-size:.72rem;background:#2563eb14;padding:.1rem .35rem;border-radius:var(--radius-sm)}.legal-pill{padding:.2rem .65rem;border-radius:var(--radius-full);background:#6366f11f;color:var(--text-primary);font-weight:600}.legal-about-btn{margin-left:auto;background:var(--primary);color:#fff!important;padding:.4rem 1rem;border-radius:var(--radius-full);font-weight:700;text-decoration:none;box-shadow:var(--elevation-1);transition:transform var(--transition-quick),box-shadow var(--transition-quick)}.legal-about-btn:hover{transform:translateY(-2px);box-shadow:var(--shadow-md)}body.dark-theme #legal-strip{background:#060c14e6;border-top-color:#ffffff14;box-shadow:0 -10px 24px #0006}body.dark-theme .legal-strip-content code{background:#4aa3ff26}body.dark-theme .legal-pill{background:#4aa3ff2e;color:var(--text-primary)}body.dark-theme .legal-about-btn{background:var(--primary)}@media (max-width: 768px){.legal-strip-content{flex-direction:column;align-items:flex-start;gap:.5rem}.legal-about-btn{margin-left:0;width:100%;text-align:center}}body.about-page{display:flex;min-height:100vh;flex-direction:column;background:var(--bg-light);padding-top:0}#main-header.about-header{position:sticky;top:0;margin:0;background:#ffffffe6;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-bottom:1px solid var(--border);z-index:10;padding:0 1.5rem}.about-header-content{gap:1rem}.about-back-row{width:100%;display:flex;justify-content:flex-start;margin-bottom:.75rem}.about-page .about-back-btn{display:inline-flex;align-items:center;gap:.4rem}.about-main{flex:1;width:100%;max-width:1100px;margin:0 auto;display:flex;flex-direction:column;gap:1.5rem;padding:2.5rem 1.5rem 3rem}.tile-layout>.about-tile:first-child{margin-top:.25rem}.tile-layout{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem}.about-card,.about-tile{width:100%;background:var(--bg-main);border:1px solid var(--border);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);padding:2rem;line-height:1.6}.about-card{line-height:1.7;opacity:0;transform:translateY(20px);animation:fadeSlideUp .8s ease forwards}.about-tile{min-height:360px;display:flex;flex-direction:column;justify-content:space-between;gap:1.25rem;opacity:0;transform:translateY(32px);transition:transform .7s ease,opacity .7s ease}.about-tile.is-visible{opacity:1;transform:translateY(0)}.hero-card{background-image:linear-gradient(135deg,#2563eb1f,#6366f114);border:1px solid rgba(37,99,235,.25)}.tile-primary{background-image:linear-gradient(135deg,#2563eb14,#6366f10d);border:1px solid rgba(37,99,235,.18)}.tile-secondary{background:var(--bg-main)}.about-page #main-header{padding:0 1.5rem}.about-page .about-header-content{align-items:center;min-height:64px}.about-page .about-back-btn{padding:.55rem .9rem;border-radius:var(--radius-full);font-weight:600;border:1px solid var(--border);color:var(--text-primary);background:#ffffffbf;box-shadow:var(--shadow-sm)}.about-page .about-back-btn svg{flex-shrink:0}.about-page .header-nav .btn-icon-round{width:44px;height:44px}.about-page .install-btn{width:100%;justify-content:center}.about-page .hero-link{display:inline-flex;gap:.3rem;text-decoration:none}.hero-badge{display:inline-flex;align-items:center;gap:.35rem;background:#fff6;padding:.25rem .8rem;border-radius:var(--radius-full);font-weight:600;color:var(--primary)}.hero-lede{font-size:1.1rem;margin-top:.5rem;color:var(--text-primary)}.hero-link{display:inline-flex;align-items:center;font-weight:700;margin-top:1rem;color:var(--primary)}.about-meta-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:1rem;margin:1.25rem 0}.about-meta-grid h3{font-size:.95rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}.about-meta-grid p{margin-top:.35rem}.about-card h1{font-size:2rem;margin-bottom:1rem}.about-card ul{margin:1.5rem 0;padding-left:1.2rem}.about-card li{margin-bottom:.5rem}.about-card a{color:var(--primary);font-weight:600}.info-card{background:var(--bg-main)}.info-list{list-style:none;padding:0;display:flex;flex-direction:column;gap:.75rem}.tile-points{list-style:none;padding:0;display:flex;flex-direction:column;gap:.85rem}.tile-points li span{display:block;font-weight:700}.tile-points small{color:var(--text-secondary);font-size:.9rem}.install-blurb{font-size:1rem;font-weight:600;color:var(--text-primary)}.install-helper{margin:.75rem 0 .25rem;color:var(--text-secondary);font-size:.9rem}.install-btn{margin-top:1rem;border:none;background:var(--primary);color:#fff;font-weight:700;padding:.85rem 1.5rem;border-radius:var(--radius-full);cursor:pointer;box-shadow:var(--shadow-md)}.install-btn:disabled{opacity:.5;cursor:not-allowed;box-shadow:none}.about-page #legal-strip{margin-top:auto}body.dark-theme .about-card,body.dark-theme .about-tile{background:#060c14d9;border-color:#ffffff14;box-shadow:0 15px 35px #0000008c}body.dark-theme .hero-card{background-image:linear-gradient(135deg,#4aa3ff2e,#2563eb14)}body.dark-theme .install-helper{color:var(--text-secondary)}@media (max-width: 768px){.about-main{padding-top:1.5rem}.about-card,.about-tile{padding:1.5rem}}@media (max-width: 640px){.about-page #main-header{padding:0 1rem}.about-back-row{padding:.75rem 1rem 0}.about-page .about-main{padding:1.5rem 1rem 2.25rem;gap:1.1rem}.about-page .tile-layout{gap:1rem}.about-page .about-tile{min-height:auto;gap:.95rem}.about-page .hero-link{width:100%;justify-content:center}}@media (max-width: 900px){.about-page #main-header{padding:0 1rem}}@keyframes fadeSlideUp{0%{opacity:0;transform:translateY(25px)}to{opacity:1;transform:translateY(0)}}.fade-in:nth-of-type(2){animation-delay:.1s}.fade-in:nth-of-type(3){animation-delay:.2s}body.view-is-locked{position:fixed;top:0;right:0;bottom:0;left:0;width:100%;overflow:hidden}body.detail-view-open{position:fixed!important;top:0!important;right:0!important;bottom:0!important;left:0!important;width:100%!important;overflow:hidden!important;touch-action:none}body.detail-view-open #main-header,body.detail-view-open #site-footer,body.detail-view-open #legal-strip{display:none!important}@media (max-width: 768px){body.view-is-locked{position:relative;inset:auto;height:auto;min-height:100vh;overflow-y:auto;overflow-x:hidden}body.view-is-locked #app-view-root{min-height:100vh}body.detail-view-open{position:fixed!important;top:0!important;right:0!important;bottom:0!important;left:0!important;overflow:hidden!important;touch-action:none!important}}#dashboard-container{flex:1 0 auto;overflow-y:visible;-webkit-overflow-scrolling:touch;padding-bottom:0}#map-container{flex:1 0 auto;display:flex;overflow:hidden}#itinerary-results-container{flex:1 0 auto;display:flex;flex-direction:row;height:calc(100vh - 64px);min-height:0}body.view-map-locked{overflow:hidden!important;position:fixed!important;width:100%!important;height:100%!important;height:100vh!important;height:100dvh!important;top:0!important;left:0!important}body.view-map-locked #map-container{position:fixed!important;top:0!important;left:0!important;right:0!important;bottom:0!important;width:100%!important;height:100%!important;height:100vh!important;height:100dvh!important;z-index:10}body.view-map-locked #map-view{height:100%!important;min-height:100vh;min-height:100dvh}body.view-map-locked #map{height:100%!important;min-height:0}#map-container,#map-view,#map{scrollbar-width:none;-ms-overflow-style:none}#map-container::-webkit-scrollbar,#map-view::-webkit-scrollbar,#map::-webkit-scrollbar{display:none}.hidden{display:none!important}#main-header{background:#ffffffd9;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-bottom:1px solid var(--border);padding:0 1.5rem;position:sticky;top:0;z-index:1050;flex-shrink:0}@supports not (backdrop-filter: blur(10px)){.hero-section .planner-block,.instruction-content,#main-header{background:#fffffff2}}body.view-is-locked #main-header,body.view-is-locked #legal-strip{display:none}body.view-map-locked #main-header,body.view-map-locked #site-footer,body.view-map-locked #legal-strip,body.itinerary-view-active #main-header,body.itinerary-view-active #site-footer,body.itinerary-view-active #legal-strip{display:none!important}body.itinerary-view-active{padding-top:0!important}.header-content{display:flex;justify-content:space-between;align-items:center;height:64px;max-width:1300px;margin:0 auto}.logo{display:flex;align-items:center;gap:1rem;font-weight:800;color:var(--text-primary)}.header-logo-img{height:52px;max-width:170px;width:auto;object-fit:contain;display:block}body:not(.dark-theme) .header-logo-img{filter:brightness(0) saturate(100%)}.header-title-group{display:flex;flex-direction:column;line-height:1.05}.brand-name{font-size:1.4rem;font-weight:800;letter-spacing:-.03em;background:linear-gradient(120deg,var(--primary),#14b8a6);-webkit-background-clip:text;background-clip:text;color:transparent}.brand-sub{font-size:.85rem;font-weight:600;color:var(--text-secondary)}.header-logo-icon{color:var(--primary)}.header-nav{display:flex;align-items:center;gap:1rem}#alert-banner{position:relative;z-index:10;background:linear-gradient(135deg,var(--color-yellow) 0%,#fbbf24 100%);color:#1a1a1a;padding:.65rem 1rem;display:flex;justify-content:space-between;align-items:center;font-size:.85rem;font-weight:500;margin:0;border-bottom:1px solid rgba(0,0,0,.1);box-shadow:0 2px 8px #00000014}#alert-banner.type-perturbation{background:linear-gradient(135deg,var(--color-orange) 0%,#ea580c 100%);color:#fff;border-bottom-color:#fff3}#alert-banner.type-annulation{background:linear-gradient(135deg,var(--color-red) 0%,#dc2626 100%);color:#fff;border-bottom-color:#fff3}#alert-banner.type-retard{background:linear-gradient(135deg,var(--color-yellow) 0%,#fbbf24 100%);color:#1a1a1a}#alert-banner-content{display:flex;align-items:center;gap:.5rem;flex:1;overflow:hidden}#alert-banner-content svg{flex-shrink:0;width:18px;height:18px}#alert-banner-content strong{font-weight:600}#alert-banner-close{background:#0000001a;border:none;color:inherit;font-size:1.25rem;line-height:1;cursor:pointer;opacity:.8;padding:.25rem .5rem;border-radius:var(--radius-sm);margin-left:.5rem;flex-shrink:0;transition:all var(--transition-fast)}#alert-banner-close:hover{opacity:1;background:#0003}#alert-banner.type-perturbation #alert-banner-close,#alert-banner.type-annulation #alert-banner-close{background:#ffffff26}#alert-banner.type-perturbation #alert-banner-close:hover,#alert-banner.type-annulation #alert-banner-close:hover{background:#ffffff40}#dashboard-main{max-width:600px;margin:0 auto;padding:1.5rem 1rem;position:relative;z-index:1;overflow-x:visible}.hero-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;width:100vw;height:100vh;background:url(https://www.voyageavecvue.com/wp-content/uploads/2023/11/perigueux.png) center top / cover no-repeat;z-index:0;pointer-events:none}.hero-overlay{position:absolute;top:0;right:0;bottom:0;left:0;background:linear-gradient(to bottom,#1e3a5f4d,#1e3a5f59,#ffffffbf 60%,#ffffffe6,#fffffffa);pointer-events:none}#dashboard-hall{position:relative;z-index:1;min-height:100%}.planner-section{padding:0;position:relative;z-index:50;padding-top:var(--spacing-12)}.planner-block{background:#fff;border-radius:var(--radius-lg);padding:var(--spacing-6);box-shadow:var(--elevation-4);border:2px solid rgba(34,197,94,.2);transition:border-color var(--transition-normal),box-shadow var(--transition-normal)}.planner-block:hover{border-color:#22c55e66;box-shadow:var(--elevation-5)}.planner-title{font-size:1rem;font-weight:700;color:#1e3a5f;margin:0 0 1.25rem;text-align:center}.planner-form{display:flex;flex-direction:column;gap:1rem;width:100%}.planner-inputs-vertical{display:flex;flex-direction:column;gap:.5rem}.planner-inputs-vertical .form-group{margin-bottom:0}.swap-button-row{display:flex;align-items:center;justify-content:center;padding:.25rem 0;position:relative;z-index:5}.swap-line{flex:1;height:1px;background:#e2e8f0}.btn-swap-direction{background:#fff;border:1px solid #e2e8f0;width:40px;height:40px;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;color:#6b7280;border-radius:50%;transition:all .2s ease;box-shadow:0 2px 8px #00000014;margin:0 .75rem;flex-shrink:0}.btn-swap-direction:hover{background:#f8fafc;border-color:#2a9d8f;color:#2a9d8f;box-shadow:0 4px 12px #2a9d8f33}.planner-block .form-group input[type=text]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:12px;padding:1rem 1rem 1rem 2.75rem;font-size:16px;color:#1e3a5f;width:100%;transition:all .2s ease;min-height:52px;box-sizing:border-box}.planner-block .form-group input[type=text]::placeholder{color:#94a3b8}.planner-block .form-group input[type=text]:focus{background:#fff;border-color:#1e3a5f;box-shadow:0 0 0 3px #1e3a5f1a;outline:none}.input-with-icon .input-icon{position:absolute;left:.875rem;top:50%;transform:translateY(-50%);color:#94a3b8;z-index:1;pointer-events:none}.input-with-icon input[type=text]{padding-left:2.75rem}.btn-geolocate{position:absolute;top:50%;right:.5rem;transform:translateY(-50%);width:32px;height:32px;border-radius:6px;background:transparent;color:#64748b;border:none;z-index:5;display:inline-flex;align-items:center;justify-content:center;padding:0;cursor:pointer;transition:all .2s ease}.btn-geolocate:hover:not(:disabled){background:#f1f5f9;color:#1e3a5f}.btn-geolocate:disabled{opacity:.4;cursor:not-allowed}.planner-options{position:relative;z-index:100}.btn-when{display:flex;align-items:center;gap:.5rem;width:100%;padding:.75rem 1rem;border:1px solid #e2e8f0;border-radius:8px;font-size:.9rem;font-family:inherit;background:#f8fafc;cursor:pointer;text-align:left;color:#1e3a5f;transition:all .2s ease}.btn-when>svg:first-child{color:#1e3a5f;flex-shrink:0}.btn-when>.chevron{color:#94a3b8;transition:transform .2s ease;flex-shrink:0}.btn-when:hover{border-color:#1e3a5f;background:#fff}.btn-when.popover-active>.chevron{transform:rotate(180deg)}.planner-search-btn,#planner-submit-btn{padding:.875rem 2rem!important;font-size:.9rem!important;font-weight:700!important;text-transform:uppercase!important;letter-spacing:.05em!important;border-radius:12px!important;background:#2a9d8f!important;border:none!important;color:#fff!important;cursor:pointer;transition:all .2s ease;margin-top:.75rem;width:100%;line-height:1;display:flex;align-items:center;justify-content:center;min-height:48px}.planner-search-btn:hover,#planner-submit-btn:hover{background:#238b7e!important;box-shadow:0 6px 20px #2a9d8f66!important;transform:translateY(-2px)}.planner-search-btn:active,#planner-submit-btn:active{transform:translateY(0) scale(.98)}.popover-tabs{display:flex;border-bottom:1px solid #e5e7eb;margin-bottom:1rem}.popover-tab{flex:1;padding:.75rem;background:none;border:none;font-size:.9rem;font-weight:500;color:#64748b;cursor:pointer;border-bottom:2px solid transparent;transition:all .2s ease}.popover-tab.active{color:#1e3a5f;border-bottom-color:#1e3a5f}.popover-time-inputs{display:flex;align-items:flex-end;gap:.5rem}.time-separator{font-size:1.25rem;font-weight:600;color:#64748b;padding-bottom:.75rem}body.dark-theme .hero-backdrop{opacity:.5}body.dark-theme .hero-overlay{background:linear-gradient(to bottom,#0f172a66,#0f172a99,#0f172ad9 60%,#0f172af2,#0f172a)}body.dark-theme .planner-block{background:#0f172af2;border-color:#22c55e4d}body.dark-theme .planner-block:hover{border-color:#22c55e80}body.dark-theme .planner-title{color:#e2e8f0}body.dark-theme .planner-block .form-group input[type=text]{background:#1e293bcc;border:1px solid #374151;color:#e2e8f0}body.dark-theme .search-priority-section{border-bottom-color:#ffffff1a}body.dark-theme .search-prominent input{background:var(--bg-secondary);border-color:#ffffff1a;color:var(--text-primary)}body.dark-theme .search-prominent input:focus{border-color:var(--pm-green);box-shadow:0 0 0 3px #22c55e33}body.dark-theme .empty-state .check-icon{color:var(--pm-cyan)}body.dark-theme .empty-state h4{color:var(--text-primary)}body.dark-theme .planner-block .form-group input[type=text]::placeholder{color:#ffffff80}body.dark-theme .planner-block .form-group input[type=text]:focus{background:#1e293bf2;border-color:#2a9d8f;box-shadow:0 0 0 3px #2a9d8f33}body.dark-theme .btn-when{background:#ffffff0d;border-color:#ffffff1a;color:#e2e8f0}body.dark-theme .swap-line{background:#374151}body.dark-theme .btn-swap-direction{background:#1e293bf2;border-color:#374151;color:#ffffffb3;box-shadow:0 2px 8px #0000004d}body.dark-theme .btn-swap-direction:hover{background:#2a9d8f33;border-color:#2a9d8f;color:#2a9d8f}body.dark-theme .input-with-icon .input-icon{color:#ffffff80}body.dark-theme .btn-geolocate{color:#fff9;background:transparent}body.dark-theme .btn-geolocate:hover:not(:disabled){background:#2a9d8f33;color:#e2e8f0}.network-delays-widget{margin-top:1.5rem;background:#fffbeb;border:1px solid #fcd34d;border-radius:var(--radius-md);padding:1rem}.network-delays-header{display:flex;align-items:center;gap:.5rem;font-weight:600;color:#92400e;margin-bottom:.75rem}.quick-actions-section{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-top:1.5rem;position:relative;z-index:1}.quick-action-card{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem;padding:1rem .75rem;background:#fff;border:1px solid #e5e7eb;border-radius:var(--radius-lg);cursor:pointer;text-decoration:none;color:#1e3a5f;transition:all .2s ease;box-shadow:0 4px 12px #00000014}.quick-action-card:hover{border-color:#2a9d8f;box-shadow:0 8px 24px #2a9d8f2e;transform:translateY(-3px)}.quick-action-icon{width:48px;height:48px;display:flex;align-items:center;justify-content:center;background:#2a9d8f1a;border-radius:12px;color:#2a9d8f}.quick-action-icon svg{stroke-width:2.5}.quick-action-card span{font-size:.85rem;font-weight:600;text-align:center;color:#1e3a5f}body.dark-theme .quick-action-card{background:#1e293be6;border:1px solid #374151;color:#e2e8f0;box-shadow:0 4px 12px #0000004d}body.dark-theme .quick-action-card:hover{border-color:#2a9d8f;background:#2a9d8f1a;box-shadow:0 8px 24px #2a9d8f33}body.dark-theme .quick-action-icon{background:#2a9d8f33;color:#2a9d8f}body.dark-theme .quick-action-card span{color:#e2e8f0}.news-banner{display:flex;align-items:center;gap:.75rem;margin-top:1.5rem;padding:.875rem 1rem;background:#fff;border:1px solid #e5e7eb;border-radius:var(--radius-lg);box-shadow:0 2px 8px #0000000f;position:relative;z-index:1}.news-banner-icon{width:36px;height:36px;display:flex;align-items:center;justify-content:center;background:#2a9d8f1a;border-radius:10px;color:#2a9d8f;flex-shrink:0}.news-banner-content{flex:1;min-width:0}.news-banner-label{display:block;font-size:.7rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:#2a9d8f;margin-bottom:.125rem}.news-banner-text{display:block;font-size:.85rem;color:#1e3a5f;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;position:relative}.news-banner-text.marquee-text{text-overflow:clip}.news-banner-text .marquee-inner{display:inline-block;white-space:nowrap;padding-left:0}.news-banner-text.marquee-active .marquee-inner{animation:marquee-scroll 15s linear infinite;padding-left:100%}@keyframes marquee-scroll{0%{transform:translate(0)}to{transform:translate(-100%)}}.news-banner:hover .marquee-inner{animation-play-state:paused}.news-banner.severity-perturbation{background:linear-gradient(135deg,#f973161a,#ea580c26);border-color:#f973164d}.news-banner.severity-perturbation .news-banner-icon{background:#f9731633;color:#ea580c}.news-banner.severity-perturbation .news-banner-label{color:#ea580c}.news-banner.severity-retard{background:linear-gradient(135deg,#eab3081a,#ca8a0426);border-color:#eab3084d}.news-banner.severity-retard .news-banner-icon{background:#eab30833;color:#ca8a04}.news-banner.severity-retard .news-banner-label{color:#ca8a04}.news-banner.severity-annulation{background:linear-gradient(135deg,#ef44441a,#dc262626);border-color:#ef44444d}.news-banner.severity-annulation .news-banner-icon{background:#ef444433;color:#dc2626}.news-banner.severity-annulation .news-banner-label{color:#dc2626}.news-banner.has-perturbations{cursor:pointer;transition:all .2s ease}.news-banner.has-perturbations:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0000001a}.news-banner-link{padding:.375rem .875rem;background:#2a9d8f;color:#fff;font-size:.75rem;font-weight:600;text-decoration:none;border-radius:20px;flex-shrink:0;transition:all .2s ease}.news-banner-link:hover{background:#238b7e}body.dark-theme .news-banner-text{color:#e2e8f0}body.dark-theme .stats-section .stat-number{color:#a3b83c}body.dark-theme .stats-section .stat-label{color:#fff9}.planner-inputs{--swap-col-width: 64px;display:grid;grid-template-columns:minmax(0,1fr) var(--swap-col-width) minmax(0,1fr);flex:1;gap:1rem;align-items:stretch;padding-left:0;padding-right:0;position:relative}.planner-inputs .form-group{flex:1;margin-bottom:0;min-width:0;display:flex;flex-direction:column;justify-content:flex-start}.planner-inputs .form-group .input-with-action{flex:1}.planner-inputs .swap-button-slot{width:var(--swap-col-width);display:flex;align-items:center;justify-content:center;height:100%}.planner-inputs .swap-button-slot .btn-swap-direction{justify-self:center;align-self:center}.main-nav-buttons-condensed{display:grid;grid-template-columns:repeat(3,1fr);gap:1.5rem;margin-top:2.5rem;max-width:900px;margin-left:auto;margin-right:auto;position:relative;z-index:1}.bottom-content-wrapper{position:relative;z-index:1}.nav-button-condensed{background:#005a9cbf;border:1px solid rgba(255,255,255,.2);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);border-radius:var(--radius-md);padding:var(--spacing-6);font-size:var(--font-size-lg);font-weight:700;color:#fff;text-decoration:none;box-shadow:var(--elevation-1);transition:all var(--transition-normal),transform var(--transition-bounce);position:relative;cursor:pointer;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.75rem;overflow:hidden}.nav-button-condensed:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background:linear-gradient(135deg,rgba(255,255,255,.2) 0%,transparent 50%);opacity:0;transition:opacity var(--transition-normal)}.nav-button-condensed:hover{background:#004a80e6;border-color:#ffffff4d;transform:translateY(-5px) scale(1.02);box-shadow:0 15px 30px -5px #005a9c66}.nav-button-condensed:hover:before{opacity:1}.nav-button-condensed:active{transform:translateY(-2px) scale(.98);transition:transform .1s ease}.nav-button-condensed svg{width:28px;height:28px;transition:transform var(--transition-normal)}.nav-button-condensed:hover svg{transform:scale(1.15)}.nav-button-condensed .notification-badge{position:absolute;top:.75rem;right:.75rem}.nav-button-condensed[data-view=horaires]{background:#28a745bf}.nav-button-condensed[data-view=horaires]:hover{background:#238b3ae6;box-shadow:0 15px 30px -5px #28a74580}.nav-button-condensed[data-view=info-trafic]{background:#fd7e14bf}.nav-button-condensed[data-view=info-trafic]:hover{background:#e47112e6;box-shadow:0 15px 30px -5px #fd7e1480}.bottom-content-wrapper{margin-top:2.5rem;margin-bottom:2rem;max-width:900px;margin-left:auto;margin-right:auto}.bottom-grid{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem}.bottom-grid .card{display:flex;flex-direction:column}.bottom-grid .card h4{font-size:1.125rem;font-weight:700;margin-bottom:.75rem}.bottom-grid .card p{font-size:.875rem;color:var(--text-secondary);line-height:1.6;flex:1 0 auto}.key-figures-card p{margin-bottom:1.5rem}.key-figures-grid{display:flex;justify-content:space-around;text-align:center;gap:1rem}.key-figure-item{display:flex;flex-direction:column;align-items:center}.key-figure-number{font-size:2.25rem;font-weight:800;color:var(--primary);line-height:1.1}.key-figure-label{font-size:.875rem;color:var(--text-secondary);font-weight:500;margin-top:.25rem}.btn-block-link{display:flex;justify-content:space-between;align-items:center;width:100%;margin-top:1.5rem;padding:.75rem 1.25rem;font-size:.9rem;font-weight:600;border-radius:var(--radius-md)}.btn-block-link svg{transition:transform .2s ease}.btn-block-link:hover svg{transform:translateY(3px)}#dashboard-hall{visibility:visible;overflow-y:visible;padding-bottom:40px}#dashboard-hall:not(.view-is-active){display:none;pointer-events:none;max-height:0;overflow:hidden;padding-top:0!important;padding-bottom:0!important;margin-top:0!important;margin-bottom:0!important}#dashboard-content-view{display:none;pointer-events:none;max-height:0;overflow:hidden}#dashboard-content-view.view-is-active{display:block;pointer-events:auto;max-height:5000px}#btn-back-to-hall{margin-bottom:1.5rem;background:var(--bg-secondary);border-color:var(--border);color:var(--text-primary);font-weight:600;padding-left:.75rem}#btn-back-to-hall:hover{background:var(--border);border-color:var(--secondary)}#btn-back-to-hall svg{margin-right:.5rem;color:var(--text-secondary)}.itinerary-back-btn{background:var(--bg-secondary);border-color:var(--border);color:var(--text-primary);box-shadow:var(--shadow-sm);flex-shrink:0}.itinerary-back-btn svg{color:var(--text-secondary)}#btn-back-to-hall,#btn-back-to-dashboard-from-map,#btn-back-to-dashboard-from-results{pointer-events:auto!important;position:relative;z-index:3000!important}.content-cards{display:grid;grid-template-columns:1fr;max-width:900px;margin:0 auto;gap:1.5rem}.card{background:#ffffffd9;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.4);border-radius:var(--radius-md);padding:var(--spacing-6);box-shadow:var(--elevation-1);transition:box-shadow var(--transition-normal),transform var(--transition-normal)}.card:hover{box-shadow:var(--elevation-3)}#dashboard-hall .card{max-height:2000px;padding:1.5rem}#dashboard-content-view .card{max-height:0;overflow:hidden;padding:0 1.5rem;display:none}#dashboard-content-view .card.view-active{display:block;max-height:2000px;padding:1.5rem}.search-priority-section{margin-bottom:var(--spacing-8);padding-bottom:var(--spacing-6);border-bottom:2px solid var(--border)}.search-priority-section h3{font-size:var(--font-size-xl);font-weight:700;color:var(--text-primary);margin-bottom:var(--spacing-4)}.schedule-sheets-section{margin-top:var(--spacing-6)}.schedule-sheets-section h3{font-size:var(--font-size-lg);font-weight:600;color:var(--text-primary);margin-bottom:var(--spacing-4)}.search-prominent{position:relative;margin-bottom:var(--spacing-4)}.search-prominent input{font-size:var(--font-size-lg);padding:var(--spacing-4) var(--spacing-4) var(--spacing-4) var(--spacing-12);border:2px solid var(--border);border-radius:var(--radius-lg);transition:all var(--transition-normal)}.search-prominent input:focus{border-color:var(--pm-green);box-shadow:var(--elevation-2)}.search-prominent svg{position:absolute;left:var(--spacing-4);top:50%;transform:translateY(-50%);color:var(--text-secondary);pointer-events:none}.empty-state{text-align:center;padding:var(--spacing-10) var(--spacing-6);color:var(--text-secondary)}.empty-state .check-icon{color:var(--pm-green);margin:0 auto var(--spacing-4);display:block}.empty-state h4{font-size:var(--font-size-xl);font-weight:700;color:var(--text-primary);margin-bottom:var(--spacing-2)}.empty-state p{font-size:var(--font-size-base);color:var(--text-secondary);max-width:400px;margin:0 auto}.form-group{margin-bottom:1rem;position:relative}.form-group label{display:block;font-size:.875rem;font-weight:500;margin-bottom:.5rem}.input-with-action{position:relative;width:100%}.form-group input[type=text]{width:100%;box-sizing:border-box;padding:.75rem 1rem;border:1px solid var(--border);border-radius:var(--radius-md);font-size:.9rem;font-family:inherit;transition:border-color var(--transition-fast),box-shadow var(--transition-fast),transform .15s ease;background:var(--bg-main)}.form-group.has-geolocate input[type=text]{padding-right:3.25rem}.form-group input[type=text]:focus{border-color:var(--primary);box-shadow:0 0 0 4px #2563eb26,0 2px 8px #2563eb1a;outline:none;transform:scale(1.01)}#horaires-search-container{position:relative;display:flex;align-items:center;width:100%}#horaires-search-container svg{position:absolute;left:14px;color:var(--text-secondary);opacity:.6;z-index:1}#horaires-search-bar{width:100%;padding:.75rem 1rem .75rem 2.5rem;border:1px solid var(--border);border-radius:var(--radius-md);font-size:.9rem}#horaires-search-bar:focus{border-color:var(--primary);box-shadow:0 0 0 3px #2563eb33;outline:none}#horaires-search-results{position:absolute;top:calc(100% + 5px);left:0;width:100%;background:var(--bg-main);border:1px solid var(--border);border-radius:var(--radius-md);box-shadow:var(--elevation-3);max-height:300px;overflow-y:auto;z-index:var(--z-dropdown);-webkit-overflow-scrolling:touch;overscroll-behavior:contain}.search-result-item{padding:var(--spacing-3) var(--spacing-4);font-size:var(--font-size-sm);cursor:pointer;border-bottom:1px solid var(--border);transition:background var(--transition-quick)}.search-result-item:last-child{border-bottom:none}.search-result-item:hover{background:var(--bg-secondary)}.search-result-item strong{color:var(--primary)}.fiche-horaire-title{font-size:.9rem;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px;margin:2rem 0 1rem;border-bottom:1px solid var(--border);padding-bottom:.5rem}#fiche-horaire-container{border:1px solid var(--border);border-radius:var(--radius-md);overflow:hidden;background:var(--bg-main)}.accordion-group details{border-bottom:1px solid var(--border)}.accordion-group details:last-child{border-bottom:none}.accordion-group summary{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.25rem;cursor:pointer;font-size:1rem;font-weight:600;background:var(--bg-secondary);list-style:none;transition:background .2s ease}.accordion-group summary:hover{background:#f1f5f9}.accordion-group summary::-webkit-details-marker{display:none}.accordion-group summary:after{content:"+";font-size:1.5rem;font-weight:300;color:var(--text-secondary);transition:transform .3s ease-in-out}.accordion-group details[open] summary{background:var(--bg-main)}.accordion-group details[open] summary:after{transform:rotate(45deg)}.accordion-content{background:var(--bg-main);padding:0 var(--spacing-5);overflow:hidden;max-height:0;transition:max-height var(--transition-smooth);overscroll-behavior:contain;-webkit-overflow-scrolling:touch}details[open] .accordion-content{max-height:1000px}.accordion-content-inner{padding:1rem 0}.accordion-content-inner a{display:block;padding:.75rem 0;color:var(--primary);text-decoration:none;font-weight:500;border-bottom:1px solid var(--border)}.accordion-content-inner a:last-child{border-bottom:none}.accordion-content-inner a:hover{text-decoration:underline}#horaires-search-shortcut{margin-top:2rem;padding-top:1.5rem;border-top:1px solid var(--border);text-align:center}#horaires-search-shortcut p{font-size:.9rem;color:var(--text-secondary);margin-bottom:1rem}#btn-horaires-search-focus{font-weight:600;padding-left:1.25rem;padding-right:1.25rem}.tabs{display:flex;border:1px solid var(--color-tab-active);border-radius:var(--radius-md);margin-bottom:1.5rem;overflow:hidden;background:var(--bg-main)}.tab{flex:1;padding:.6rem 1rem;border:none;background:transparent;cursor:pointer;font-size:.9rem;font-weight:600;color:var(--color-tab-active);transition:all var(--transition-normal);text-transform:capitalize;position:relative}.tab:after{content:"";position:absolute;bottom:0;left:50%;width:0;height:2px;background:var(--color-tab-active);transition:width var(--transition-fast),left var(--transition-fast)}.tab:not(.active):hover:after{width:100%;left:0}.tab.active{background:var(--color-tab-active);color:#fff}.tab:not(.active):hover{background:#0080801a}.tab:first-child{border-right:1px solid var(--color-tab-active)}.tab-content{max-height:450px;overflow-y:auto;overscroll-behavior:contain;-webkit-overflow-scrolling:touch}.trafic-group{margin-bottom:1.5rem}.trafic-group h4{font-size:1.1rem;font-weight:700;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:1px solid var(--border)}.trafic-badge-list{display:flex;flex-wrap:wrap;gap:1rem .75rem}.trafic-badge-item{display:flex;flex-direction:column;align-items:center;cursor:pointer;min-width:45px;position:relative;transition:transform .15s ease}.trafic-badge-item:active{transform:scale(.95)}.line-badge{display:inline-flex;align-items:center;justify-content:center;min-width:40px;padding:var(--spacing-2) var(--spacing-3);font-weight:700;font-size:var(--font-size-sm);color:#fff;border-radius:var(--radius-md);flex-shrink:0;box-shadow:var(--elevation-1);transition:all var(--transition-quick)}.trafic-badge-item:hover .line-badge{transform:translateY(-2px);box-shadow:var(--shadow-md)}.trafic-badge-item .status-icon{position:absolute;top:-6px;right:-6px;width:18px;height:18px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:700;color:#fff;box-shadow:0 1px 3px #0000004d;z-index:1}.trafic-badge-item.status-retard .status-icon{background:var(--color-yellow);color:#1a1a1a}.trafic-badge-item.status-retard .status-icon:before{content:"⏱";font-size:10px}.trafic-badge-item.status-perturbation .status-icon{background:var(--color-orange)}.trafic-badge-item.status-perturbation .status-icon:before{content:"!";font-weight:900}.trafic-badge-item.status-annulation .status-icon{background:var(--color-red)}.trafic-badge-item.status-annulation .status-icon:before{content:"✕";font-size:10px}.trafic-badge-item.status-travaux .status-icon{background:var(--color-orange)}.trafic-badge-item.status-travaux .status-icon:before{content:"⚠";font-size:10px}.trafic-badge-item.status-normal .status-icon{display:none}.line-detail-modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:var(--z-modal);display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;transition:opacity var(--transition-normal),visibility var(--transition-normal)}.line-detail-modal.active{opacity:1;visibility:visible}.line-detail-backdrop{position:absolute;top:0;right:0;bottom:0;left:0;background:#000000bf;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.line-detail-content{position:relative;width:90%;max-width:420px;max-height:85vh;background:var(--bg-primary);border:2px solid var(--border);border-radius:var(--radius-xl);box-shadow:0 25px 50px -12px #0009,0 0 0 1px #ffffff1a;overflow:hidden;transform:scale(.95) translateY(20px);transition:transform .25s ease}.line-detail-modal.active .line-detail-content{transform:scale(1) translateY(0)}.line-detail-close{position:absolute;top:12px;right:12px;width:36px;height:36px;display:flex;align-items:center;justify-content:center;background:var(--bg-tertiary);border:none;border-radius:50%;cursor:pointer;color:var(--text-secondary);transition:all .2s ease;z-index:10}.line-detail-close:hover{background:var(--bg-secondary);color:var(--text-primary)}.line-detail-header{display:flex;align-items:center;gap:1rem;padding:1.5rem;background:var(--bg-secondary);border-bottom:1px solid var(--border)}.line-detail-badge{display:inline-flex;align-items:center;justify-content:center;min-width:56px;height:40px;padding:0 1rem;font-weight:800;font-size:1.25rem;border-radius:var(--radius-md);box-shadow:var(--shadow-md)}.line-detail-name{font-size:1rem;font-weight:600;color:var(--text-primary);flex:1}.line-detail-body{padding:1.25rem 1.5rem 1.5rem;overflow-y:auto;max-height:calc(85vh - 120px)}.line-detail-status{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:var(--radius-full);font-size:.875rem;font-weight:600;margin-bottom:1.25rem}.line-detail-status.status-normal{background:#22c55e26;color:#16a34a}.line-detail-status.status-perturbation{background:#f9731626;color:#ea580c}.line-detail-status.status-retard{background:#eab30826;color:#ca8a04}.line-detail-status.status-annulation{background:#ef444426;color:#dc2626}.line-detail-status.status-travaux{background:#f9731626;color:#ea580c}.line-detail-status .status-badge-icon{display:inline-flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:50%;font-size:.75rem;font-weight:700}.line-detail-status.status-normal .status-badge-icon{background:#16a34a;color:#fff}.line-detail-status.status-perturbation .status-badge-icon{background:#ea580c;color:#fff}.line-detail-status.status-retard .status-badge-icon{background:#ca8a04;color:#1a1a1a}.line-detail-status.status-annulation .status-badge-icon{background:#dc2626;color:#fff}.line-detail-status.status-travaux .status-badge-icon{background:#ea580c;color:#fff}.line-detail-section{margin-bottom:1.25rem}.line-detail-section:last-child{margin-bottom:0}.line-detail-section h4{font-size:.8125rem;font-weight:700;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em;margin-bottom:.5rem}.line-detail-section p{font-size:.9375rem;line-height:1.6;color:var(--text-primary);margin:0}@media (max-width: 480px){.line-detail-content{width:95%;max-height:80vh}.line-detail-header{padding:1.25rem}.line-detail-badge{min-width:48px;height:36px;font-size:1.125rem}.line-detail-body{padding:1rem 1.25rem 1.25rem}}.banner-detail-modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:var(--z-modal);display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;transition:opacity var(--transition-normal),visibility var(--transition-normal)}.banner-detail-modal.active{opacity:1;visibility:visible}.banner-detail-backdrop{position:absolute;top:0;right:0;bottom:0;left:0;background:#0009;backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px)}.banner-detail-content{position:relative;width:90%;max-width:480px;max-height:80vh;background:var(--bg-primary);border-radius:var(--radius-xl);box-shadow:0 25px 50px -12px #0006;overflow:hidden;transform:scale(.95) translateY(20px);transition:transform .25s ease;display:flex;flex-direction:column}.banner-detail-modal.active .banner-detail-content{transform:scale(1) translateY(0)}.banner-detail-close{position:absolute;top:12px;right:12px;width:36px;height:36px;display:flex;align-items:center;justify-content:center;background:var(--bg-tertiary);border:none;border-radius:50%;cursor:pointer;color:var(--text-secondary);transition:all .2s ease;z-index:10}.banner-detail-close:hover{background:var(--bg-secondary);color:var(--text-primary)}.banner-detail-header{display:flex;align-items:center;gap:.75rem;padding:1.25rem 1.5rem;background:linear-gradient(135deg,#f973161a,#ea580c26);border-bottom:1px solid var(--border)}.banner-detail-header svg{color:#ea580c;flex-shrink:0}.banner-detail-header h3{font-size:1.1rem;font-weight:700;color:var(--text-primary);margin:0}.banner-detail-body{flex:1;overflow-y:auto;padding:1rem 1.5rem;display:flex;flex-direction:column;gap:1rem}.banner-perturbation-item{background:var(--bg-secondary);border-radius:var(--radius-lg);padding:1rem;border:1px solid var(--border)}.banner-perturbation-header{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem}.banner-line-badge{display:inline-flex;align-items:center;justify-content:center;min-width:42px;height:28px;padding:0 .75rem;font-weight:800;font-size:.9rem;border-radius:var(--radius-md);box-shadow:var(--shadow-sm)}.banner-status-tag{display:inline-flex;align-items:center;padding:.25rem .625rem;border-radius:var(--radius-full);font-size:.75rem;font-weight:600}.banner-status-tag.status-perturbation{background:#f9731626;color:#ea580c}.banner-status-tag.status-retard{background:#eab30826;color:#ca8a04}.banner-status-tag.status-annulation{background:#ef444426;color:#dc2626}.banner-status-tag.status-travaux{background:#f9731626;color:#ea580c}.banner-perturbation-message{font-size:.875rem;line-height:1.5;color:var(--text-primary);margin:0}.banner-detail-footer{padding:1rem 1.5rem;border-top:1px solid var(--border);text-align:center}.banner-detail-link{display:inline-flex;align-items:center;justify-content:center;padding:.625rem 1.25rem;background:var(--color-primary);color:#fff;font-size:.875rem;font-weight:600;text-decoration:none;border-radius:var(--radius-full);transition:all .2s ease}.banner-detail-link:hover{background:var(--color-primary-dark);transform:translateY(-1px)}@media (max-width: 480px){.banner-detail-content{width:95%;max-height:75vh}.banner-detail-header{padding:1rem 1.25rem}.banner-detail-body{padding:.875rem 1.25rem}.banner-perturbation-item{padding:.875rem}}#map-container{display:flex;flex-direction:column;flex:1 0 auto;min-height:0;height:100%;background:var(--bg-light);position:relative}#map-view{display:flex;flex-direction:column;flex:1;min-height:0;position:relative}#map{flex:1;min-height:0;position:relative;z-index:1;background:#f0f0f0;touch-action:pan-x pan-y;-ms-touch-action:pan-x pan-y}#top-bar{background:transparent;padding:0;display:flex;align-items:center;gap:10px;flex-wrap:nowrap;z-index:10}#btn-toggle-filter{display:inline-flex;align-items:center;gap:.5rem;padding:.6rem 1rem;border-radius:var(--radius-full);background:var(--primary);color:#fff;border:none;font-weight:700;box-shadow:var(--shadow-md);cursor:pointer;transition:transform .2s ease,box-shadow .2s ease}#map-container #btn-toggle-filter svg{width:20px;height:20px}#map-container #btn-toggle-filter:hover,.map-fab-button:hover{transform:scale(1.02);box-shadow:0 6px 16px #00000059}#map-container #btn-toggle-filter:active,.map-fab-button:active{transform:scale(.97)}@media (min-width: 769px){#map-container #btn-toggle-filter{position:absolute;top:60px;right:16px;width:auto;height:36px;border-radius:20px;padding:0 16px;z-index:1200;font-size:13px;font-weight:600}#map-container #btn-toggle-filter span{display:inline}}@media (max-width: 768px){#map-container #btn-toggle-filter,.map-fab-button{position:fixed!important;bottom:calc(30px + env(safe-area-inset-bottom));right:20px!important;left:auto!important;width:56px;height:56px;border-radius:50%;background:#22c55e!important;color:#fff!important;border:none;box-shadow:0 4px 12px #0000004d;z-index:1200;display:flex;justify-content:center;align-items:center;padding:0;transition:width var(--transition-smooth),border-radius var(--transition-smooth)}#map-container #btn-toggle-filter:not(.collapsed){width:auto;padding:0 var(--spacing-5);border-radius:var(--radius-full);gap:var(--spacing-2)}#map-container #btn-toggle-filter.collapsed span,.map-fab-button.collapsed span{display:none}#map-container #btn-toggle-filter svg{width:24px;height:24px}#map-container #btn-toggle-filter span{display:none}}#map-container #btn-back-to-dashboard-from-map{padding-left:.75rem;padding-right:1.25rem}#map-container #btn-back-to-dashboard-from-map svg{margin-right:.25rem}#top-right-controls{display:inline-flex;align-items:center;gap:10px;margin-left:auto}.map-theme-toggle{display:inline-flex;align-items:center;gap:8px;height:36px;padding:0 12px;background:#fffffff2;border:none;border-radius:20px;box-shadow:0 2px 8px #00000014,0 0 0 1px #0000000a;font-weight:700;color:#1a1a2e;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease;pointer-events:auto}.map-theme-toggle .theme-toggle-icon{font-size:16px;line-height:1}.map-theme-toggle .theme-toggle-label{font-size:13px}.map-theme-toggle:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0000001f,0 0 0 1px #0000000d}.map-theme-toggle:active{transform:translateY(0)}body.dark-theme .map-theme-toggle{background:#141926f2;color:#e2e8f0;box-shadow:0 2px 8px #0000004d,0 0 0 1px #ffffff0f}body.dark-theme .map-theme-toggle:hover{box-shadow:0 4px 12px #00000059,0 0 0 1px #ffffff14}.topbar-pill{display:inline-flex;align-items:center;gap:6px;height:36px;padding:0 14px;background:#fffffff2;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border-radius:20px;font-size:13px;font-weight:600;color:#1a1a2e;white-space:nowrap;box-shadow:0 2px 8px #00000014,0 0 0 1px #0000000a;transition:all .2s ease}.topbar-pill svg{width:16px;height:16px;flex-shrink:0}#btn-back-to-dashboard-from-map{background:#fffffff2!important;border:none!important;color:#1a1a2e!important;cursor:pointer}#btn-back-to-dashboard-from-map:hover{background:#fff!important;transform:translateY(-1px);box-shadow:0 4px 12px #0000001f,0 0 0 1px #0000000d}#btn-back-to-dashboard-from-map svg{color:#22c55e}#clock{display:inline-flex;align-items:center;gap:8px;height:36px;padding:0 14px;background:#fffffff2;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border-radius:20px;font-size:13px;font-weight:600;color:#1a1a2e;white-space:nowrap;box-shadow:0 2px 8px #00000014,0 0 0 1px #0000000a;font-variant-numeric:tabular-nums}#clock svg{width:15px;height:15px;opacity:.6;color:#64748b}#current-time{color:#1a1a2e}#date-indicator{color:#64748b;font-weight:500;padding-left:8px;border-left:1px solid rgba(0,0,0,.1)}#status-info{display:inline-flex;align-items:center;gap:8px;height:36px;padding:0 14px;background:#fffffff2;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border-radius:20px;font-size:13px;font-weight:600;white-space:nowrap;box-shadow:0 2px 8px #00000014,0 0 0 1px #0000000a;margin-left:auto}#bus-count{display:inline-flex;align-items:center;gap:6px;color:#22c55e;font-weight:700;padding:0;background:none;border:none;border-radius:0}#bus-count svg{width:8px;height:8px}#data-status{color:#64748b;font-weight:500;padding-left:8px;border-left:1px solid rgba(0,0,0,.1)}#data-status.loaded{color:#22c55e}#data-status.error{color:#ef4444}#route-filter-panel{position:fixed;top:0;right:0;bottom:0;width:340px;max-height:100vh;background:#ffffffe6;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-left:1px solid var(--border);box-shadow:var(--elevation-4);z-index:var(--z-fixed);display:flex;flex-direction:column;transition:transform var(--transition-smooth);transform:translate(0)}#route-filter-panel.hidden{transform:translate(100%)}.panel-handle{display:none;cursor:pointer}@media (min-width: 769px){body.view-map-locked #top-bar{position:relative;z-index:var(--z-sticky);flex-shrink:0}#map-view #top-bar{position:absolute;top:0;left:0;right:0;padding:14px 16px;display:flex;align-items:center;gap:10px;pointer-events:none}#map-view #top-bar>*{pointer-events:auto}}@media (max-width: 768px){.main-nav-buttons-condensed{grid-template-columns:1fr;gap:1rem;padding-bottom:80px}.content-cards,.bottom-grid{grid-template-columns:1fr}#dashboard-content-view.view-is-active{padding-top:0}#btn-back-to-hall{margin-bottom:1rem}.content-cards{gap:1rem}#info-trafic .tab-content{max-height:none;overflow-y:visible}#alert-banner{padding:.5rem .75rem;font-size:.8rem}#alert-banner-content{gap:.4rem}#alert-banner-content svg{width:16px;height:16px}#alert-banner-close{padding:.2rem .4rem;font-size:1.1rem}#map-view #top-bar{background:transparent;border:none;padding:0;display:block;position:absolute;top:0;left:0;right:0;pointer-events:none}#map-container #map-view #top-bar>#btn-back-to-dashboard-from-map,#map-container #map-view #top-bar>#clock,#map-container #map-view #top-bar>#status-info{position:fixed!important;z-index:var(--z-sticky);height:36px;padding:0 var(--spacing-3);background:#fffffff2;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border-radius:18px;font-size:var(--font-size-xs);font-weight:600;box-shadow:0 2px 8px #0000001a,0 0 0 1px #0000000a;pointer-events:auto;border:none}#map-container #map-view #top-bar>#btn-back-to-dashboard-from-map{top:calc(12px + env(safe-area-inset-top));left:12px;display:inline-flex!important;align-items:center;gap:4px;color:#1a1a2e!important}#map-container #map-view #top-bar>#btn-back-to-dashboard-from-map span{display:inline}#map-container #map-view #top-bar>#btn-back-to-dashboard-from-map svg{margin-right:0;color:#22c55e;width:14px;height:14px}#map-container #map-view #top-bar>#clock{display:inline-flex!important;align-items:center;top:calc(12px + env(safe-area-inset-top));left:50%;transform:translate(-50%);gap:6px;color:#1a1a2e}#map-container #map-view #top-bar>#clock svg{width:14px;height:14px;opacity:.5}#map-container #map-view #top-bar>#clock #date-indicator{display:none}#map-container #map-view #top-bar>#status-info{display:inline-flex!important;align-items:center;top:calc(12px + env(safe-area-inset-top));right:12px;left:auto;margin-left:0;gap:6px}#map-container #map-view #top-bar>#status-info #bus-count{color:#22c55e}#map-container #map-view #top-bar>#status-info #data-status{display:none}#top-right-controls{position:fixed;top:calc(var(--spacing-3) + env(safe-area-inset-top));right:var(--spacing-3);display:inline-flex;align-items:center;gap:var(--spacing-2);pointer-events:auto;z-index:var(--z-sticky)}#top-right-controls #status-info{position:relative;top:0;right:0;height:36px;padding:0 12px;margin-left:0;gap:6px}#top-right-controls #status-info #data-status{display:none}#top-right-controls .map-theme-toggle{width:38px;height:38px;padding:0;border-radius:50%;justify-content:center;box-shadow:0 2px 8px #0000002e,0 0 0 1px #0000000a}#top-right-controls .map-theme-toggle .theme-toggle-label{display:none}body.dark-theme #map-container #map-view #top-bar>#btn-back-to-dashboard-from-map,body.dark-theme #map-container #map-view #top-bar>#clock,body.dark-theme #map-container #map-view #top-bar>#status-info{background:#141926f2!important;box-shadow:0 2px 8px #0000004d,0 0 0 1px #ffffff0f!important;color:#e2e8f0}body.dark-theme #map-container #map-view #top-bar>#btn-back-to-dashboard-from-map{color:#e2e8f0!important}body.dark-theme #map-container #map-view #top-bar>#status-info #bus-count{color:#4ade80!important}#route-filter-panel{top:auto;bottom:0;left:0;right:0;width:100%;max-height:80vh;border-left:none;border-radius:var(--radius-lg) var(--radius-lg) 0 0;transform:translateY(0);padding-bottom:env(safe-area-inset-bottom)}#route-filter-panel.hidden{transform:translateY(100%)}.panel-handle{display:block;width:40px;height:4px;background:var(--border);border-radius:var(--radius-full);margin:8px auto}#main-header{position:fixed;top:0;left:0;right:0;z-index:1200;height:56px;padding:0;background:#fffffff2;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);border-bottom:1px solid var(--border);display:flex;align-items:center}.header-content{display:flex;justify-content:flex-start;align-items:center;height:100%;width:100%;max-width:1300px;margin:0 auto;padding:0 1rem;gap:.75rem}.logo{position:static;display:flex;align-items:center;gap:.5rem;order:1;font-size:1rem;font-weight:800}.header-logo-img{height:38px;width:auto;object-fit:contain}.header-title-group{display:flex;flex-direction:column;align-items:flex-start;text-align:left;line-height:1.1;order:2}.header-nav{order:3;margin-left:auto}.brand-name{font-size:1.15rem;margin:0;display:block;font-weight:800}.brand-sub{font-size:.75rem;margin-top:1px;display:block;color:var(--text-secondary);font-weight:600}body{padding-top:56px}.results-list-wrapper{padding-bottom:calc(120px + env(safe-area-inset-bottom))}.results-list{padding-bottom:2rem}.load-more-wrapper{display:flex;justify-content:center;padding:1rem 0 1.5rem}.load-more-wrapper .btn{min-width:160px}}.load-more-departures{margin-top:.5rem;padding:.75rem 1rem 1.5rem}.load-more-departures .btn{display:flex;align-items:center;gap:.5rem;padding:.6rem 1.2rem;font-size:.85rem;border:2px solid var(--primary);color:var(--primary);background:transparent;border-radius:var(--radius-full);font-weight:600;transition:all .2s ease}.load-more-departures .btn:hover:not(:disabled){background:var(--primary);color:#fff}.load-more-departures .btn:disabled{opacity:.6;cursor:not-allowed}.load-more-departures .btn svg{width:16px;height:16px}.spinner-small{width:16px;height:16px;border:2px solid currentColor;border-top-color:transparent;border-radius:50%;animation:spin .8s linear infinite}.btn-load-more{display:flex;align-items:center;justify-content:center;gap:.5rem;width:calc(100% - 2rem);margin:1rem;padding:.75rem 1.25rem;font-size:.9rem;font-weight:600;border:2px solid var(--primary);color:var(--primary);background:transparent;border-radius:var(--radius-full);cursor:pointer;transition:all .2s ease}.btn-load-more:hover:not(:disabled){background:var(--primary);color:#fff}.btn-load-more:disabled{opacity:.6;cursor:wait}.btn-load-more svg{flex-shrink:0}.btn{padding:.5rem 1rem;border:1px solid var(--border);border-radius:var(--radius-full);background:var(--bg-main);color:var(--text-primary);cursor:pointer;font-size:.875rem;font-weight:500;transition:all var(--transition-fast),transform .1s ease;display:inline-flex;align-items:center;gap:.5rem;white-space:nowrap;position:relative;overflow:hidden}.btn:after{content:"";position:absolute;top:50%;left:50%;width:0;height:0;background:#ffffff4d;border-radius:50%;transform:translate(-50%,-50%);transition:width .4s ease,height .4s ease}.btn:active:after{width:300px;height:300px}.btn:hover{background:var(--bg-secondary);border-color:var(--secondary);transform:translateY(-1px)}.btn:active{transform:scale(.97) translateY(0)}.btn-primary{background:var(--primary);color:#fff;border-color:var(--primary)}.btn-primary:hover{background:var(--primary-dark);border-color:var(--primary-dark);box-shadow:0 4px 12px #2563eb4d}.btn-primary:after{background:#fff3}.btn-primary svg{margin-right:.25rem}.planner-block .btn-primary.planner-search-btn,#planner-submit-btn.btn-primary{background:#2a9d8f!important;border-color:#2a9d8f!important}.planner-block .btn-primary.planner-search-btn:hover,#planner-submit-btn.btn-primary:hover{background:#238b7e!important;border-color:#238b7e!important;box-shadow:0 6px 20px #2a9d8f66!important}.btn-secondary{background:var(--bg-secondary);border-color:var(--border);color:var(--text-primary);font-weight:600}.btn-secondary:hover{background:var(--border);border-color:var(--secondary)}.btn-icon-round{display:inline-flex;align-items:center;justify-content:center;width:40px;height:40px;border:1px solid var(--border);border-radius:50%;background:var(--bg-main);color:var(--text-primary);cursor:pointer;transition:all var(--transition-fast),transform .15s ease;flex-shrink:0;position:relative;overflow:hidden}.btn-icon-round:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background:radial-gradient(circle at center,rgba(37,99,235,.1) 0%,transparent 70%);opacity:0;transition:opacity var(--transition-fast)}.btn-icon-round:hover{background:var(--bg-secondary);border-color:var(--primary);transform:scale(1.05)}.btn-icon-round:hover:before{opacity:1}.btn-icon-round:active{transform:scale(.95)}.filter-header{display:flex;justify-content:space-between;align-items:center;padding:1.25rem 1.5rem;border-bottom:1px solid var(--border);flex-shrink:0;background:var(--bg-secondary)}.filter-header h3{margin:0;font-size:1.125rem;font-weight:600}.btn-close{background:var(--bg-secondary);border:none;color:var(--text-secondary);cursor:pointer;width:32px;height:32px;line-height:1;transition:all .15s ease;display:flex;align-items:center;justify-content:center;border-radius:50%}.btn-close:hover{background:var(--border);color:var(--text-primary)}.filter-actions{padding:1rem 1.5rem;display:flex;gap:.5rem;border-bottom:1px solid var(--border);flex-shrink:0;background:var(--bg-secondary)}.btn-small{padding:.375rem .875rem;border:1px solid var(--border);background:var(--bg-main);color:var(--text-primary);cursor:pointer;font-size:.8125rem;font-weight:500;transition:all .15s ease;border-radius:var(--radius-full)}.btn-small:hover{background:var(--primary);color:#fff;border-color:var(--primary)}.route-list{overflow-y:auto;flex:1;background:transparent;overscroll-behavior:contain;-webkit-overflow-scrolling:touch}.category-header{padding:.75rem 1.25rem;background:var(--bg-secondary);border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center;position:sticky;top:0}.category-title{display:flex;align-items:center;gap:.5rem;font-size:.875rem}.category-title strong{color:var(--text-primary)}.category-count{color:var(--text-secondary);font-size:.75rem;font-weight:400}.category-actions{display:flex;gap:.375rem}.btn-category-action{padding:.25rem .625rem;border:1px solid var(--border);background:var(--bg-main);color:var(--text-secondary);cursor:pointer;font-size:.75rem;font-weight:500;transition:all .15s ease;border-radius:var(--radius-md)}.btn-category-action:hover{background:var(--primary);color:#fff;border-color:var(--primary)}.category-routes{background:transparent}.route-checkbox-item{display:flex;align-items:center;gap:.75rem;padding:.625rem 1.25rem;cursor:pointer;transition:all .15s ease;border-bottom:1px solid var(--border)}.route-checkbox-item:last-child{border-bottom:none}.route-checkbox-item:hover{background:#0000000d}.route-checkbox-item input[type=checkbox]{width:18px;height:18px;cursor:pointer;accent-color:var(--primary);flex-shrink:0}.route-badge{display:inline-flex;align-items:center;justify-content:center;min-width:45px;padding:.375rem .625rem;font-weight:600;font-size:.875rem;color:#fff;border-radius:var(--radius-md);flex-shrink:0}.route-name{flex:1;font-size:.875rem;line-height:1.4}.instruction-content{background:#ffffffe6;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);padding:2rem;border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);max-width:500px;width:100%}.instruction-header{display:flex;align-items:center;gap:.75rem;margin-bottom:1.25rem}.instruction-header svg{color:var(--primary)}.instruction-header h3{margin:0;font-size:1.125rem}#instructions ol{margin-left:1.5rem;line-height:1.8}#instructions code{background:var(--bg-secondary);padding:.2rem .5rem;font-family:Courier New,monospace;color:var(--primary);font-size:.8125rem;border:1px solid var(--border);border-radius:var(--radius-sm)}#close-instructions{margin-top:1.5rem;width:100%;padding:.75rem 1.25rem;background:var(--primary);color:#fff;border:none;cursor:pointer;font-weight:500;transition:all .15s ease;display:inline-flex;align-items:center;justify-content:center;gap:.5rem;border-radius:var(--radius-md)}#close-instructions:hover{background:var(--primary-dark)}#install-tip{position:fixed;top:0;right:0;bottom:0;left:0;background:#0f172abf;display:flex;align-items:center;justify-content:center;z-index:999;padding:1.5rem}body.install-tip-open{overflow:hidden}.install-tip.hidden{display:none}.install-tip-card{width:min(560px,100%);background:#fff;border-radius:24px;box-shadow:var(--shadow-2xl);padding:2rem;display:flex;flex-direction:column;gap:1.5rem}body.dark-theme .install-tip-card{background:#0f172af2;color:var(--text-primary)}.install-tip-header{display:flex;align-items:center;gap:1rem}.install-tip-badge{margin:0;font-size:.8125rem;text-transform:uppercase;letter-spacing:.08em;color:var(--primary);font-weight:600}.install-tip-header h3{margin:0;font-size:1.5rem}.install-tip-lede{margin:0;font-size:1rem;line-height:1.6;color:var(--text-secondary)}.install-tip-steps{display:grid;grid-template-columns:1fr 1fr;gap:1.25rem}.install-tip-steps section{background:var(--bg-secondary);border-radius:var(--radius-lg);padding:1rem 1.25rem;border:1px solid var(--border)}body.dark-theme .install-tip-steps section{background:#ffffff0a}.install-tip-steps h4{margin:0 0 .75rem;font-size:1rem}.install-tip-steps ol{margin:0;padding-left:1.25rem;display:flex;flex-direction:column;gap:.4rem;font-size:.9375rem;line-height:1.5}.install-tip-steps strong{font-weight:600}#install-tip-close{align-self:flex-end;min-width:180px}@media (max-width: 640px){.install-tip-steps{grid-template-columns:1fr}#install-tip{padding:1rem}}.hero-section{position:relative;z-index:20}.bottom-content-wrapper{position:relative;z-index:10}.hero-section,.planner-block-wrapper,.planner-block,.planner-form{overflow:visible!important}.leaflet-marker-pane>*,.leaflet-popup-pane>*{transition:none!important}.leaflet-popup{touch-action:none;zoom:1!important}.leaflet-popup-pane{pointer-events:none;zoom:1!important}.leaflet-popup-content-wrapper{pointer-events:auto;touch-action:pan-y;width:280px!important;max-width:280px!important;min-width:280px!important;border-radius:14px!important;box-shadow:0 4px 20px #0003!important;border:1px solid var(--border)!important;background:var(--bg-primary)!important;backdrop-filter:blur(16px)!important;-webkit-backdrop-filter:blur(16px)!important;padding:0!important;overflow:hidden!important}.leaflet-popup-content{font-family:Manrope,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;margin:0!important;padding:0!important;width:280px!important;max-width:280px!important;background:transparent}.leaflet-popup-tip-container{pointer-events:none;width:20px!important;height:10px!important;margin-left:-10px!important}.leaflet-popup-tip{background:var(--bg-primary)!important;pointer-events:none;width:14px!important;height:14px!important;margin:-7px auto 0!important;box-shadow:none!important}.leaflet-popup-close-button{pointer-events:auto!important;z-index:10;width:28px!important;height:28px!important;font-size:18px!important;line-height:28px!important;right:6px!important;top:6px!important;color:var(--text-secondary)!important;background:var(--bg-secondary)!important;border-radius:50%!important;text-align:center}.leaflet-popup-close-button:hover{color:var(--text-primary)!important;background:var(--bg-tertiary)!important}.bus-icon-rect{background:transparent!important;border:none!important;width:32px!important;height:32px!important;pointer-events:auto!important;cursor:pointer!important;z-index:1000!important}.bus-icon-rect div{transition:all .2s ease;border:2px solid white;width:32px!important;height:32px!important;min-width:32px!important;min-height:32px!important;display:flex;align-items:center;justify-content:center;border-radius:50%!important;font-weight:700;font-size:11px;box-shadow:0 2px 4px #0000004d;box-sizing:border-box;pointer-events:auto!important;cursor:pointer!important}.bus-icon-rect:hover div{transform:scale(1.15)}.bus-icon-waiting div{opacity:.6;box-shadow:0 1px 3px #0003!important}.bus-status-perturbation div{border:3px solid var(--color-orange)!important}.bus-status-retard div{border:3px solid var(--color-yellow)!important}.bus-status-annulation div{opacity:.3!important;border:3px solid var(--color-red)!important}.marker-cluster-small{background-color:#b5e28c99}.marker-cluster-small div{background-color:#6ecc3999}.marker-cluster-medium{background-color:#f1d35799}.marker-cluster-medium div{background-color:#f0c20c99}.marker-cluster-large{background-color:#fd9c7399}.marker-cluster-large div{background-color:#f1801799}.marker-cluster{background-clip:padding-box;border-radius:50%}.marker-cluster div{width:30px;height:30px;margin-left:5px;margin-top:5px;text-align:center;border-radius:50%;font:12px Helvetica Neue,Arial,Helvetica,sans-serif}.marker-cluster span{line-height:30px}.stop-marker-icon{background:var(--secondary);border:2px solid white;border-radius:50%;box-shadow:var(--shadow-md);transition:all .2s ease;cursor:pointer}.leaflet-zoom-animated .stop-marker-icon{transition:opacity .3s,transform .3s}.stop-marker-icon:hover{background:var(--primary);transform:scale(1.3)}.stop-search-marker div{background:var(--primary);border:2px solid white;border-radius:50%;box-shadow:var(--shadow-md);width:100%;height:100%}.itinerary-stop-marker{border-radius:50%!important;display:flex;align-items:center;justify-content:center;pointer-events:none;background:transparent!important;border:none!important}.itinerary-stop-marker span{display:block;border-radius:50%!important;box-shadow:0 1px 4px #0000004d}.itinerary-stop-marker.boarding span{width:22px!important;height:22px!important;background:#4caf50;border:3px solid #fff}.itinerary-stop-marker.alighting span{width:22px!important;height:22px!important;background:#f44336;border:3px solid #fff}.itinerary-stop-marker.transfer span{width:16px!important;height:16px!important;background:#ffc107;border:3px solid #fff}.itinerary-stop-marker.intermediate span{width:12px!important;height:12px!important;background:#fff;border:2px solid #9e9e9e}.user-location-marker{background-color:#4a8cf7;border:2px solid white;border-radius:50%;width:16px;height:16px;box-shadow:0 0 5px #00000080}.user-location-marker:after{content:"";position:absolute;top:50%;left:50%;width:40px;height:40px;border-radius:50%;background-color:#4a8cf7;margin-top:-20px;margin-left:-20px;opacity:.3;animation:pulse 2s infinite;pointer-events:none}@keyframes pulse{0%{transform:scale(.5);opacity:.4}to{transform:scale(1.5);opacity:0}}.leaflet-control-locate{background-color:#fff;width:34px;height:34px;border:1px solid var(--border);border-radius:50%;box-shadow:var(--shadow-md);cursor:pointer;display:flex;align-items:center;justify-content:center}.leaflet-control-locate:hover{background-color:var(--bg-secondary)}.leaflet-control-locate svg{width:18px;height:18px;color:var(--text-primary)}.leaflet-control-locate.following svg{color:var(--primary)}.bus-icon-rect svg{width:18px;height:18px;display:block}.bus-popup-modern{width:280px;max-width:280px;font-family:Manrope,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;background:var(--bg-primary);overflow:hidden}.bus-popup-header{display:flex;align-items:center;gap:12px;padding:14px 40px 14px 16px;background:linear-gradient(135deg,#3b82f614,#8b5cf60d);border-bottom:1px solid var(--border)}.bus-popup-line-badge{width:42px;height:42px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:14px;box-shadow:0 2px 8px #00000026;flex-shrink:0}.bus-popup-line-badge .line-number{font-weight:800}.bus-popup-title{display:flex;flex-direction:column;gap:2px;flex:1;min-width:0}.bus-popup-title .route-name{font-weight:700;font-size:15px;color:var(--text-primary)}.bus-popup-title .route-destination{font-size:13px;color:var(--text-secondary);font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.bus-popup-body{padding:12px 14px;display:flex;flex-direction:column;gap:10px;background:var(--bg-primary)}.bus-popup-info-row{display:flex;align-items:center;gap:10px;padding:8px 10px;background:var(--bg-secondary);border-radius:8px}.bus-popup-info-row:active{background:var(--bg-tertiary)}.bus-popup-icon{font-size:18px;width:28px;height:28px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.bus-popup-info{display:flex;flex-direction:column;gap:1px;flex:1;min-width:0}.bus-popup-info .info-label{font-size:10px;color:var(--text-tertiary);text-transform:uppercase;letter-spacing:.5px;font-weight:600}.bus-popup-info .info-value{font-size:14px;font-weight:600;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.bus-popup-info .eta-highlight{font-weight:700;font-size:16px;font-variant-numeric:tabular-nums}.bus-popup-info .eta-highlight.realtime{color:#10b981}.bus-popup-info .eta-highlight.theoretical{color:var(--text-primary)}.bus-popup-footer{padding:10px 14px;background:var(--bg-secondary);border-top:1px solid var(--border);display:flex;justify-content:center}.realtime-badge{display:inline-flex;align-items:center;gap:6px;font-size:11px;padding:5px 12px;border-radius:16px;font-weight:600;letter-spacing:.2px}.realtime-badge.theoretical{background:#fbbf241f;color:#fbbf24}.realtime-badge.realtime{background:#10b9811f;color:#10b981}.realtime-badge .badge-dot{width:6px;height:6px;border-radius:50%;background:currentColor;animation:pulse-dot 1.5s ease-in-out infinite}@keyframes pulse-dot{0%,to{opacity:1;transform:scale(1)}50%{opacity:.4;transform:scale(.7)}}.info-popup-content{width:100%;max-height:250px;overflow-y:auto;-webkit-overflow-scrolling:touch;overscroll-behavior:contain}.info-popup-header{background:var(--bg-secondary);padding:.875rem 1.25rem;font-size:1rem;font-weight:600;border-bottom:1px solid var(--border);position:sticky;top:0}.info-popup-body{padding:.5rem}.info-popup-body.bus-details{padding:0 .875rem .625rem}.info-popup-body p{margin:.5rem 0;font-size:.875rem}.info-popup-body p strong{font-weight:600}.info-popup-body .realtime-notice{margin:.625rem 0 0;font-size:.75rem;color:var(--text-secondary)}.departure-item{display:flex;justify-content:space-between;align-items:center;padding:.625rem .75rem;border-bottom:1px solid var(--border);transition:background var(--transition-fast),transform var(--transition-fast)}.departure-item:hover{background:var(--bg-secondary)}.departure-item:last-child{border-bottom:none}.departure-item.empty{color:var(--text-secondary);font-style:italic;font-size:.875rem;justify-content:center;flex-direction:column;gap:.5rem;padding:1rem}.departure-info{display:flex;align-items:center;gap:.625rem;overflow:hidden;flex:1}.departure-badge{display:inline-flex;align-items:center;justify-content:center;min-width:36px;padding:.25rem .5rem;font-weight:700;font-size:.8125rem;color:#fff;border-radius:var(--radius-sm);flex-shrink:0;box-shadow:0 1px 3px #0000004d}.departure-dest{font-size:.875rem;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.departure-time{display:flex;flex-direction:column;align-items:flex-end;font-variant-numeric:tabular-nums;flex-shrink:0;margin-left:.5rem}.departure-time strong{font-size:.95rem;font-weight:600}.wait-time{font-size:.8125rem;font-weight:500;color:var(--text-secondary)}.wait-time.imminent{color:#059669;font-weight:600}.stop-schedule-popup .leaflet-popup-content-wrapper{background:#fff!important;border-radius:var(--radius-lg)!important;box-shadow:0 8px 32px #00000040!important;border:1px solid var(--border)!important;overflow:hidden}.stop-schedule-popup .leaflet-popup-tip{background:#fff!important;border:1px solid var(--border)!important;border-top:none!important;border-left:none!important}.stop-schedule-popup .leaflet-popup-content{margin:0;min-width:280px;max-width:380px;max-height:400px;overflow-y:auto}.stop-schedule-popup .leaflet-popup-close-button{color:var(--text-secondary)!important;font-size:20px!important;top:8px!important;right:10px!important;z-index:10}.stop-schedule-popup .leaflet-popup-close-button:hover{color:var(--text-primary)!important}.stop-schedule-popup .leaflet-popup-content::-webkit-scrollbar{width:6px}.stop-schedule-popup .leaflet-popup-content::-webkit-scrollbar-track{background:transparent}.stop-schedule-popup .leaflet-popup-content::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}.stop-schedule-popup .leaflet-popup-content::-webkit-scrollbar-thumb:hover{background:var(--text-secondary)}.stop-popup-v105{color:var(--text-primary)}.stop-popup-v105 .popup-notice{padding:.75rem 1rem;background:#6366f11a;color:var(--primary-color);font-size:.75rem;line-height:1.4;border-bottom:1px solid var(--border)}.stop-popup-v105 .popup-line-block{border-bottom:1px solid var(--border)}.stop-popup-v105 .popup-line-block:last-child{border-bottom:none}.stop-popup-v105 .popup-line-header{display:flex;align-items:center;gap:.625rem;padding:.875rem 1rem;background:var(--bg-secondary);border-bottom:1px solid var(--border)}.stop-popup-v105 .popup-badge{display:inline-flex;align-items:center;justify-content:center;min-width:32px;height:22px;padding:0 .5rem;font-size:.8125rem;font-weight:700;border-radius:var(--radius-sm);flex-shrink:0}.stop-popup-v105 .popup-stop-name{font-size:.9375rem;font-weight:600;color:var(--text-primary)}.stop-popup-v105 .popup-dest-row{padding:.75rem 1rem;border-bottom:1px solid var(--border-light, rgba(128,128,128,.1))}.stop-popup-v105 .popup-dest-row:last-child{border-bottom:none}.stop-popup-v105 .popup-dest-name{font-size:.875rem;font-weight:600;color:var(--text-primary);margin-bottom:.5rem}.stop-popup-v105 .dest-label{font-size:var(--font-size-xs);font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);margin-right:var(--spacing-2)}.stop-popup-v105 .popup-times{display:flex;flex-wrap:wrap;gap:.375rem}.stop-popup-v105 .popup-time{display:inline-block;padding:.25rem .5rem;background:var(--bg-tertiary);border:1px solid var(--border);border-radius:var(--radius-sm);font-size:.8125rem;font-weight:600;color:var(--text-primary);font-variant-numeric:tabular-nums}.stop-popup-v105 .popup-empty{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem;padding:2.5rem 1.5rem;color:var(--text-secondary);font-size:.875rem}.stop-popup-v105 .popup-empty-icon{font-size:2rem}.stop-popup-v105 .popup-dest-clickable{cursor:pointer;transition:background-color .15s ease,transform .1s ease;border-radius:6px;padding:.25rem .5rem;margin:-.25rem -.5rem}.stop-popup-v105 .popup-dest-clickable:hover{background:var(--bg-tertiary, rgba(0,0,0,.05))}.stop-popup-v105 .popup-dest-clickable:active{transform:scale(.98)}.stop-popup-v105 .popup-dest-clickable .dest-arrow{font-size:.75rem;opacity:0;transition:opacity .15s ease,transform .15s ease;color:var(--primary, #10b981);margin-left:.5rem}.stop-popup-v105 .popup-dest-clickable:hover .dest-arrow{opacity:1;transform:translate(2px)}.stop-popup-v105 .popup-time{display:inline-flex;align-items:center;gap:.375rem}.stop-popup-v105 .popup-time.realtime{background:#22c55e1f;border-color:#22c55e4d;color:#16a34a}body.dark-theme .stop-popup-v105 .popup-time.realtime{background:#22c55e26;border-color:#22c55e59;color:#4ade80}.realtime-icon{display:inline-flex;align-items:center;width:14px;height:12px;flex-shrink:0}.realtime-icon svg{width:100%;height:100%;fill:currentColor}*/ .planner-block .form-group label,.itinerary-edit-form .form-group label{font-size:.75rem;font-weight:700;color:var(--text-secondary);text-transform:uppercase;margin-bottom:.375rem}.input-with-icon{position:relative}.input-with-icon .input-icon{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#9ca3af;z-index:1;pointer-events:none}.input-with-icon input[type=text]{padding-left:3rem}.planner-block .form-group input[type=text]{background:#f3f4f6;border:1px solid #e5e7eb;color:#1f2937;font-size:.95rem}.planner-block .form-group input[type=text]::placeholder{color:#9ca3af}.planner-block .form-group input[type=text]:focus{background:#fff;border-color:#10b981;box-shadow:0 0 0 3px #10b98126}.form-group.has-geolocate{position:relative}.btn-geolocate{position:absolute;top:50%;right:.75rem;transform:translateY(-50%);width:32px;height:32px;border-radius:8px;background:#fff;color:#10b981;border:1px solid #e5e7eb;box-shadow:0 1px 3px #00000014;z-index:5;display:inline-flex;align-items:center;justify-content:center;padding:0;transition:all var(--transition-fast)}.btn-geolocate:hover:not(:disabled){background:#ecfdf5;color:#059669;border-color:#10b981}.btn-geolocate:disabled{opacity:.4;cursor:not-allowed;box-shadow:none}.btn-geolocate svg{width:16px;height:16px}@media (min-width: 901px){#itinerary-results-container .form-group.has-geolocate .btn-geolocate{transform:translateY(-50%)!important}}.btn-geolocate .spinner{width:16px;height:16px;border:2px solid currentColor;border-top-color:transparent;border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.btn-swap-direction{background:#fff;border:1px solid #e5e7eb;border-radius:50%;width:36px;height:36px;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;color:#6b7280;flex-shrink:0;margin:0;align-self:center;position:relative;z-index:10;box-shadow:0 1px 3px #00000014;transition:all .25s ease}.btn-swap-direction:hover{background:#ecfdf5;color:#10b981;border-color:#10b981;transform:rotate(180deg)}.form-group-when{position:relative;flex-shrink:0;margin-bottom:0;z-index:50}.btn-when{display:flex;align-items:center;gap:.5rem;width:auto;padding:.75rem 1rem;border:1px solid #e5e7eb;border-radius:var(--radius-md);font-size:.9rem;font-family:inherit;background:#f3f4f6;cursor:pointer;text-align:left;color:#1f2937}.btn-when>svg:first-child{color:#10b981;flex-shrink:0}.btn-when>span{flex:1}.btn-when:hover{border-color:#10b981;background:#fff}.btn-when>svg:last-child{color:#9ca3af;transition:transform .2s ease;flex-shrink:0}.btn-when.popover-active>svg:last-child{transform:rotate(180deg)}.btn-when-inline{display:flex;align-items:center;justify-content:space-between;width:100%;padding:.75rem 1rem;border:1px solid var(--border);border-radius:var(--radius-md);font-size:.9rem;font-family:inherit;background:var(--bg-main);cursor:pointer;text-align:left;color:var(--text-primary)}.btn-when-inline:hover{border-color:var(--primary)}.btn-when-inline svg{color:var(--text-secondary);transition:transform .2s ease}.btn-when-inline.popover-active svg{transform:rotate(180deg)}#planner-options-popover,#results-planner-options-popover{position:absolute;top:calc(100% + 8px);right:0;width:320px;background:var(--bg-main);border-radius:var(--radius-md);border:1px solid var(--border);box-shadow:var(--shadow-lg);z-index:1100;overflow:visible;transition:opacity .2s ease,transform .2s ease}#planner-options-popover.hidden,#results-planner-options-popover.hidden{opacity:0;transform:translateY(-10px);pointer-events:none}#results-planner-options-popover{left:0;right:0;width:auto}.popover-tabs{display:flex;background:var(--bg-secondary)}.popover-tab{flex:1;padding:.875rem 1rem;border:none;background:transparent;font-size:.9rem;font-weight:600;color:var(--text-secondary);cursor:pointer;border-bottom:3px solid transparent;transition:all .2s ease}.popover-tab:hover{color:var(--text-primary)}.popover-tab.active{color:var(--primary);border-bottom-color:var(--primary)}.popover-content{padding:1rem}#planner-options-popover>.popover-content,#results-planner-options-popover>.popover-content{overflow:visible;max-height:none}.popover-time-inputs{display:flex;gap:1rem;align-items:stretch}.popover-time-inputs .form-group{flex:1;min-width:0}.popover-time-inputs .form-group label{font-size:.8rem;font-weight:600;margin-bottom:.35rem;color:var(--text-secondary)}.popover-time-inputs .real-select{text-align:center;font-weight:600;letter-spacing:.03em;font-variant-numeric:tabular-nums;padding-left:1.5rem;padding-right:2.75rem;background-position:calc(100% - .75rem) center}.real-select{width:100%;padding:.75rem 2.5rem .75rem 1rem;border:1px solid var(--border);border-radius:var(--radius-md);font-size:.9rem;font-family:inherit;transition:all .15s ease;color:var(--text-primary);background-color:var(--bg-secondary);-moz-appearance:none;appearance:none;-webkit-appearance:none;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="%23666" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9l6 6 6-6"/></svg>');background-repeat:no-repeat;background-position:right 1rem center;background-size:12px;cursor:pointer}.real-select option{color:var(--text-primary);background-color:var(--bg-main)}body.dark-theme .real-select option{background-color:#0f1724;color:var(--text-primary)}.real-select:focus{border-color:var(--primary);box-shadow:0 0 0 3px #2563eb33;outline:none}.time-select-wrapper{position:relative;width:100%}.time-select-native{position:absolute;top:0;right:0;bottom:0;left:0;width:0;height:0;opacity:0;pointer-events:none}.time-select-display{width:100%;padding:.75rem 1rem;border:1px solid var(--border);border-radius:var(--radius-md);font-size:.95rem;font-weight:600;background:var(--bg-main);color:var(--text-primary);cursor:pointer;text-align:center;transition:border-color .12s ease,box-shadow .12s ease;position:relative}.time-select-display:after{content:"";position:absolute;right:1rem;top:50%;width:.65rem;height:.35rem;border-left:2px solid var(--text-secondary);border-bottom:2px solid var(--text-secondary);transform:translateY(-60%) rotate(-45deg);transition:transform .2s ease}.time-select-wrapper.is-open .time-select-display{border-color:var(--primary);box-shadow:0 0 0 2px #2563eb26}.time-select-wrapper.is-open .time-select-display:after{transform:translateY(-40%) rotate(135deg)}.time-select-menu{position:absolute;left:0;right:auto;bottom:calc(100% + 8px);top:auto;background:var(--bg-main);border:1px solid var(--border);border-radius:var(--radius-md);box-shadow:var(--elevation-3);padding:var(--spacing-2) 0;opacity:0;pointer-events:none;transform:translateY(var(--spacing-2));transition:opacity var(--transition-quick),transform var(--transition-quick);z-index:var(--z-popover);display:flex;flex-direction:column;width:100px;max-height:min(320px,50vh);overflow-y:auto;scrollbar-width:thin}.time-select-wrapper-minute .time-select-menu,.time-select-wrapper-hour .time-select-menu{border-radius:12px}.time-select-menu::-webkit-scrollbar{width:6px}.time-select-menu::-webkit-scrollbar-thumb{background:#00000040;border-radius:999px}.time-select-wrapper.is-open .time-select-menu{opacity:1;pointer-events:auto;transform:translateY(0)}.time-select-option{width:100%;padding:10px 16px;background:transparent;border:none;color:var(--text-primary);font-size:15px;font-weight:600;font-variant-numeric:tabular-nums;cursor:pointer;transition:background .1s ease;text-align:center;border-radius:0}.time-select-option:hover,.time-select-option:focus{background:var(--bg-secondary);color:var(--primary)}.time-select-option.is-active{background:#22c55e26;color:#22c55e;font-weight:700}.time-select-option[disabled]{opacity:.45;cursor:not-allowed}@media (max-width: 640px){.time-select-menu{width:90px;max-height:min(280px,45vh);padding:6px 0;border-radius:10px}.time-select-option{padding:10px 12px;font-size:14px}}.btn-popover-submit{width:100%;margin-top:1rem;padding:.75rem;justify-content:center}.autocomplete-suggestions{position:absolute;top:100%;left:0;right:0;background:var(--bg-main)!important;pointer-events:auto!important;border:1px solid var(--border);border-top:none;border-radius:0 0 var(--radius-md) var(--radius-md);box-shadow:var(--elevation-2);z-index:var(--z-popover)!important;max-height:250px;overflow-y:auto;display:none;animation:fadeInDown var(--transition-normal)}.suggestion-item{padding:.75rem 1rem;font-size:.9rem;cursor:pointer;border-bottom:1px solid var(--border);transition:all var(--transition-fast);position:relative}.suggestion-item:last-child{border-bottom:none;border-radius:0 0 var(--radius-md) var(--radius-md)}.suggestion-item:hover{background:var(--bg-secondary);padding-left:1.25rem}.suggestion-item:before{content:"";position:absolute;left:0;top:0;bottom:0;width:3px;background:var(--primary);transform:scaleY(0);transition:transform var(--transition-fast)}.suggestion-item:hover:before{transform:scaleY(1)}.suggestion-item strong{font-weight:700;color:var(--text-primary)}@media (max-width: 900px){.planner-form{flex-direction:column;align-items:stretch;isolation:isolate}.planner-inputs{display:flex;flex-direction:column;gap:1rem;align-items:stretch;width:100%}.planner-inputs .form-group,.form-group-when{width:100%}.planner-inputs .swap-button-slot,.results-planner-inputs .swap-button-slot{order:2;width:100%;display:flex;justify-content:center}.planner-inputs .swap-button-slot .btn-swap-direction,.results-planner-inputs .swap-button-slot .btn-swap-direction{display:inline-flex;margin:0 auto;width:44px;height:44px}.btn-when{width:100%}.form-group-when{position:relative;margin-bottom:0;z-index:500}#planner-options-popover{position:absolute!important;top:calc(100% + 10px);left:0;width:100%;max-height:none;overflow:visible;background:var(--bg-main);border:1px solid var(--border);border-radius:var(--radius-md);box-shadow:var(--elevation-4);z-index:var(--z-popover);pointer-events:auto}#planner-options-popover.hidden{display:none!important}.planner-search-btn{position:relative;z-index:1;margin-top:0}#planner-options-popover:before,#planner-options-popover:not(.hidden):before{display:none!important;content:none!important}.results-planner-inputs{display:flex;flex-direction:column;gap:1rem}.results-planner-inputs .btn-swap-direction{order:0;margin:0 auto}}#itinerary-results-container{display:flex;flex-direction:row;background:var(--bg-light);position:fixed;top:0;left:0;right:0;bottom:0;width:100%;height:100vh;z-index:100}#results-side-panel{width:400px;flex-shrink:0;display:flex;flex-direction:column;height:100%;background:var(--bg-main);border-right:1px solid var(--border);z-index:10;min-height:0;overflow-y:auto;overflow-x:hidden;overscroll-behavior:contain;-webkit-overflow-scrolling:touch}#itinerary-edit-panel{background:var(--bg-main);border-bottom:1px solid var(--border);flex-shrink:0;padding:1rem 1.5rem}.itinerary-edit-header{display:flex;align-items:center;gap:.75rem;padding:0 0 .75rem}.itinerary-edit-header h2{font-size:1.125rem;font-weight:700;margin:0;color:var(--text-primary)}.itinerary-edit-form{padding:0;position:relative}.itinerary-edit-form .form-group{margin-bottom:.75rem}.itinerary-edit-form .form-group:last-of-type{margin-bottom:1rem}.itinerary-edit-form .form-group input[type=text],#results-planner-from,#results-planner-to{background:#f8fafc;border:1px solid #e2e8f0;border-radius:12px;padding:.875rem 1rem;font-size:.95rem;color:var(--text-primary);width:100%;transition:all .2s ease;min-height:48px;box-sizing:border-box}.itinerary-edit-form .form-group input[type=text]::placeholder{color:#94a3b8}.itinerary-edit-form .form-group input[type=text]:focus,#results-planner-from:focus,#results-planner-to:focus{background:#fff;border-color:var(--primary);box-shadow:0 0 0 3px #2563eb1a;outline:none}.itinerary-edit-form .form-group label{font-size:.7rem;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px;margin-bottom:.375rem;display:block}body.dark-theme .itinerary-edit-form .form-group input[type=text],body.dark-theme #results-planner-from,body.dark-theme #results-planner-to{background:#ffffff0d;border-color:#ffffff1a;color:var(--text-primary)}body.dark-theme .itinerary-edit-form .form-group input[type=text]:focus,body.dark-theme #results-planner-from:focus,body.dark-theme #results-planner-to:focus{background:#ffffff14;border-color:var(--primary)}.results-planner-inputs{--swap-col-width: 56px;margin-bottom:1rem}.results-planner-inputs .form-group{margin-bottom:0}.btn-full-width{width:100%;justify-content:center;padding:.75rem;font-size:1rem;font-weight:600;border-radius:var(--radius-md)}#results-mode-tabs{display:flex;justify-content:space-around;background:var(--bg-secondary);border-bottom:1px solid var(--border);padding:.5rem 1rem;flex-shrink:0}.mode-tab{display:flex;flex-direction:column;align-items:center;gap:.375rem;padding:.5rem;border:none;background:transparent;border-radius:var(--radius-md);cursor:pointer;flex:1;border-bottom:3px solid transparent;transition:all .2s ease}.mode-tab:hover{background:var(--bg-main)}.mode-tab.active{background:var(--bg-main);border-bottom-color:var(--primary)}.mode-tab.hidden{display:none}.mode-tab svg{width:24px;height:24px;color:var(--text-secondary);transition:color .2s ease}.mode-tab.active svg{color:var(--primary)}.mode-tab-duration{font-size:.875rem;font-weight:600;color:var(--text-primary)}.mode-tab-duration.empty{color:var(--text-secondary);font-weight:500}.results-list-wrapper{flex:1;overflow-y:auto;background:var(--bg-light);padding:var(--spacing-2) 0 var(--spacing-6) 0;display:flex;flex-direction:column;min-height:0;scrollbar-width:thin;scrollbar-color:rgba(0,0,0,.2) transparent}.results-list-wrapper::-webkit-scrollbar{width:8px}.results-list-wrapper::-webkit-scrollbar-track{background:transparent}.results-list-wrapper::-webkit-scrollbar-thumb{background:var(--border);border-radius:var(--radius-full)}.results-list-wrapper::-webkit-scrollbar-thumb:hover{background-color:#0003}.results-list{padding:var(--spacing-6) var(--spacing-4);flex:1;display:flex;flex-direction:column;gap:var(--spacing-3)}#results-map{flex:1;min-width:0;height:100%;background:#e5e5e5;touch-action:pan-x pan-y;position:relative;z-index:1}.results-message{padding:2rem 1rem;text-align:center;color:var(--text-secondary);font-style:italic}.results-message.error{color:var(--color-red);font-style:normal;font-weight:600}.route-option-wrapper{margin-bottom:1rem}.route-option-title{font-size:.875rem;font-weight:600;color:var(--text-secondary);margin-bottom:.5rem;padding-left:.25rem}.route-option{display:flex;flex-direction:column;background:var(--bg-secondary);border-radius:var(--radius-md);padding:1rem;border:2px solid transparent;cursor:pointer;transition:all .2s ease;gap:.75rem}.route-option.is-active,.route-option:hover{border-color:var(--primary);background:var(--bg-main)}.route-summary-line{display:flex;align-items:center;column-gap:.35rem;row-gap:.4rem;flex-wrap:wrap}.route-summary-bus-icon{font-size:.8rem;font-weight:700;color:var(--text-secondary);border:1px solid var(--border);padding:.25rem .5rem;border-radius:var(--radius-sm);background:var(--bg-main);display:inline-flex;align-items:center;justify-content:center;width:32px;height:32px}.route-summary-bus-icon svg{width:20px;height:20px}.route-summary-walk-icon{display:inline-flex;align-items:center;justify-content:center;color:var(--text-secondary);opacity:.7}.route-summary-walk-icon svg{width:18px;height:18px}.route-summary-dot{color:var(--text-secondary);font-weight:600;align-self:center}.route-line-badge{display:inline-flex;align-items:center;justify-content:center;font-weight:700;box-shadow:0 1px 3px #0000004d;font-size:.9rem;border-radius:999px;width:46px;min-width:46px;height:32px;padding:0;text-align:center}.route-footer{display:flex;justify-content:space-between;align-items:center}.route-time{font-size:1rem;font-weight:600;color:var(--text-primary)}.route-duration{font-size:1rem;font-weight:700;color:var(--text-secondary)}.route-duration-eco{display:flex;align-items:center;gap:.35rem;color:#1e8e3e}.route-duration-eco svg{width:16px;height:16px}.route-next-departures{display:flex;align-items:center;gap:.5rem;padding-top:.5rem;margin-top:.5rem;border-top:1px dashed var(--border);font-size:.8rem;color:var(--text-secondary);flex-wrap:wrap}.next-departures-label{font-weight:500;color:var(--primary)}.next-departures-more{color:var(--text-secondary);font-style:italic;opacity:.8}body.dark-theme .route-next-departures{border-top-color:#ffffff1a}body.dark-theme .next-departures-label{color:var(--primary)}.route-details{padding:1rem;background:var(--bg-main);border:1px solid var(--border);border-top:none;border-radius:0 0 var(--radius-md) var(--radius-md);margin-top:-.5rem;animation:fadeIn .3s ease}.route-details.hidden{display:none}@keyframes fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.route-details .step-detail{display:flex;position:relative;padding-left:3.5rem;margin-bottom:1.5rem}.route-details .step-detail:last-child{margin-bottom:0}.route-details .step-detail:before{content:"";position:absolute;left:19px;top:24px;bottom:-1.5rem;width:4px;background:var(--line-color, var(--border))}.route-details .step-detail:last-child:before{bottom:12px}.route-details .step-detail.walk:before,.route-details .step-detail.bicycle:before{background:repeating-linear-gradient(var(--text-secondary) 0,var(--text-secondary) 4px,transparent 4px,transparent 8px)}.route-details .step-detail:after{content:"";position:absolute;left:14px;top:4px;width:12px;height:12px;border-radius:50%;background:var(--bg-main);border:2px solid var(--line-color, var(--border));z-index:1}.route-details .step-detail.walk:after,.route-details .step-detail.bicycle:after{border-color:var(--text-secondary)}.route-details .step-icon{position:absolute;left:0;top:0;width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:50%;background:var(--bg-main);position:relative;z-index:2}.route-details .step-detail.walk .step-icon,.route-details .step-detail.bicycle .step-icon{background:var(--bg-secondary);color:var(--text-secondary)}.route-details .step-icon svg{width:20px;height:20px}.route-details .step-detail.walk .step-icon svg,.route-details .step-detail.bicycle .step-icon svg{color:inherit}.route-details .step-icon .route-line-badge{font-size:1.1rem;padding:.5rem .75rem}.route-details .step-info{display:flex;flex-direction:column;padding-top:4px}.route-details .step-instruction{font-size:.9rem;font-weight:600;color:var(--text-primary)}.route-details .step-duration-inline{font-size:.875rem;font-weight:500;color:var(--text-secondary);margin-left:.25rem}.route-details .wait-info .wait-time{font-size:.95rem;font-weight:600;color:var(--text-secondary)}.route-details .wait-info .wait-duration{font-size:.9rem;color:var(--text-secondary)}.route-details .step-sub-instruction{font-size:.875rem;color:var(--text-secondary);margin-top:.25rem}.route-details .step-stop-point{margin-top:.5rem;padding-left:1rem;position:relative;font-size:.875rem;color:var(--text-primary)}.route-details .step-stop-point:before{content:"";position:absolute;left:0;top:.5em;width:6px;height:6px;border-radius:50%;background:var(--border)}.route-details .step-stop-point .step-time-detail{font-size:.8125rem;color:var(--text-secondary);margin-left:.25rem}.route-details .step-stop-point strong{font-weight:700}.route-details .intermediate-stops{margin:.5rem 0 .5rem 1rem}.route-details .intermediate-stops summary{display:flex;justify-content:space-between;align-items:center;cursor:pointer;font-size:.8125rem;font-weight:600;color:var(--primary);list-style:none;padding:.25rem 0}.route-details .intermediate-stops summary::-webkit-details-marker{display:none}.route-details .intermediate-stops summary .chevron{color:var(--text-secondary);transition:transform .2s ease}.route-details .intermediate-stops[open] summary .chevron{transform:rotate(180deg)}.route-details .intermediate-stops-list{margin:.5rem 0 0 .5rem;padding-left:1rem;border-left:2px solid var(--line-color, var(--border));list-style-type:none;font-size:.8125rem;color:var(--text-secondary)}.route-details .intermediate-stops-list li{position:relative;padding:.25rem 0 .25rem .75rem}.route-details .intermediate-stops-list li:before{content:"";position:absolute;left:-1rem;top:.7em;width:4px;height:4px;border-radius:50%;background:var(--line-color, var(--border))}.route-details .intermediate-stops-list.walk-steps{border-left-color:transparent;padding-left:0;margin-left:0;font-weight:500}.route-details .intermediate-stops-list.walk-steps li{padding-left:0;display:flex;gap:.5rem;align-items:flex-start}.route-details .intermediate-stops-list.walk-steps li:before{display:none}.route-details .intermediate-stops-list.walk-steps svg{width:16px;height:16px;flex-shrink:0;color:var(--text-secondary);margin-top:.2em}.route-details .intermediate-stops-list .walk-step-info{display:flex;flex-direction:column}.route-details .intermediate-stops-list .walk-step-meta{font-size:.9em;color:var(--text-secondary);font-weight:400}#itinerary-detail-container,#itinerary-detail-backdrop{display:none}@media (min-width: 769px){#detail-map-header{display:none}#itinerary-detail-container.is-active #detail-map-header{display:flex;position:absolute;top:var(--spacing-4);left:var(--spacing-4);z-index:var(--z-overlay);gap:var(--spacing-4);align-items:center;background:none}#itinerary-detail-container.is-active #detail-map-header #btn-back-to-results{background:#fffffff2;color:#1e293b;box-shadow:var(--shadow-md);width:44px;height:44px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;border:none;transition:transform .2s ease,box-shadow .2s ease}body.dark-theme #itinerary-detail-container.is-active #detail-map-header #btn-back-to-results{background:#0f172af2;color:#f1f5f9}#itinerary-detail-container.is-active #detail-map-header #btn-back-to-results:hover{transform:scale(1.05);box-shadow:var(--shadow-lg)}}@media (max-width: 768px){.wait-time,.departure-time strong,.step-time-detail{font-size:.875rem}#itinerary-results-container{flex-direction:column;height:100%;height:100vh}#itinerary-results-container #results-map{display:none}#results-side-panel{width:100%;flex:1;border-right:none;height:100%;overflow-y:auto;-webkit-overflow-scrolling:touch;overscroll-behavior:contain;display:flex;flex-direction:column;min-height:0}.results-list-wrapper{flex:none;display:block;overflow:visible;padding-bottom:0}.results-list{flex:none;overflow:visible;max-height:none;padding:1rem 1rem calc(2rem + env(safe-area-inset-bottom))}.itinerary-edit-header{display:flex;padding:1rem .75rem .5rem}.itinerary-edit-form{padding:0 .75rem 1rem}#itinerary-edit-panel{padding:1rem .75rem}.results-planner-inputs{width:100%}.route-details{display:none!important}#itinerary-detail-backdrop{display:block;position:fixed;top:0;right:0;bottom:0;left:0;background:#080f1c;z-index:1080;opacity:0;pointer-events:none;transition:opacity .35s cubic-bezier(.4,0,.2,1)}#itinerary-detail-backdrop.is-active{opacity:1;pointer-events:auto}#itinerary-detail-backdrop.hidden{display:none!important}#itinerary-detail-container{display:block;position:fixed;top:0;right:0;bottom:0;left:0;z-index:1110;pointer-events:none;overflow:hidden!important;overflow-x:hidden!important;overflow-y:hidden!important;overscroll-behavior:none;touch-action:none;scrollbar-width:none;-ms-overflow-style:none}#itinerary-detail-container::-webkit-scrollbar{display:none;width:0;height:0}#itinerary-detail-container.is-active{pointer-events:auto}#itinerary-detail-container.hidden{display:none!important}#detail-map{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;background:#e5e5e5;z-index:0;touch-action:manipulation;overflow:hidden!important;-webkit-overflow-scrolling:auto;scrollbar-width:none;-ms-overflow-style:none}#detail-map::-webkit-scrollbar{display:none;width:0;height:0}#detail-map *{scrollbar-width:none;-ms-overflow-style:none}#detail-map *::-webkit-scrollbar{display:none;width:0;height:0}#detail-bottom-sheet{position:absolute;left:0;right:0;bottom:0;background:var(--bg-main);border-radius:20px 20px 0 0;box-shadow:0 -8px 24px #0f172a40;height:100%;max-height:90vh;padding-top:12px;padding-bottom:calc(env(safe-area-inset-bottom) + 12px);transform:translate3d(0,100%,0);transition:transform .5s cubic-bezier(.32,.72,0,1);overflow:hidden;pointer-events:auto;display:flex;flex-direction:column;z-index:1200;will-change:transform;-webkit-backface-visibility:hidden;backface-visibility:hidden}#itinerary-detail-container:not(.is-active) #detail-bottom-sheet{transform:translate3d(0,100%,0)!important}#itinerary-detail-container.is-active #detail-bottom-sheet.sheet-level-0{transform:translate3d(0,80%,0)}#itinerary-detail-container.is-active #detail-bottom-sheet.sheet-level-1{transform:translate3d(0,50%,0)}#itinerary-detail-container.is-active #detail-bottom-sheet.sheet-level-2{transform:translate3d(0,10%,0)}#detail-bottom-sheet:before{content:"";position:absolute;top:8px;left:50%;transform:translate(-50%);width:36px;height:4px;background:#0003;border-radius:2px;z-index:10}#detail-bottom-sheet:after{content:"";position:absolute;bottom:-100vh;left:0;right:0;height:100vh;background:#fff;z-index:-1;pointer-events:none}#detail-bottom-sheet.is-dragging{transition:none!important;touch-action:none;user-select:none;-webkit-user-select:none}#detail-bottom-sheet.sheet-height-no-transition{transition:none!important}#detail-bottom-sheet .panel-handle{display:none}#detail-map-header{position:absolute;top:24px;left:0;right:0;z-index:1400;padding:0 1rem;display:flex;align-items:center;gap:1rem;background:none;pointer-events:none}#detail-map-header #btn-back-to-results{background:#fffffff2;color:#1e293b;box-shadow:0 2px 8px #00000026;pointer-events:auto;width:44px;height:44px;min-width:44px;min-height:44px;border-radius:50%;display:flex;align-items:center;justify-content:center;border:none;cursor:pointer;-webkit-tap-highlight-color:transparent;position:relative;transform:none;transition:box-shadow .2s ease}#detail-map-header #btn-back-to-results:active{box-shadow:0 1px 4px #0003}#detail-map-summary{background:#ffffffe6;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);padding:.5rem 1rem;border-radius:var(--radius-full);box-shadow:var(--shadow-md);font-weight:600;font-size:.9rem;pointer-events:none}#detail-map-summary .route-time{margin-right:.75rem}#detail-map-summary .route-duration{color:var(--text-secondary)}#detail-panel-wrapper{flex:1 1 auto;width:100%;min-height:0;overflow:hidden;-webkit-overflow-scrolling:touch;overscroll-behavior:contain;touch-action:none;padding-top:0;position:relative;box-sizing:border-box}#detail-bottom-sheet.is-expanded #detail-panel-wrapper{overflow-y:auto;overflow-x:hidden;touch-action:pan-y;scrollbar-width:thin;scrollbar-color:rgba(0,0,0,.2) transparent}#detail-bottom-sheet.is-expanded #detail-panel-wrapper::-webkit-scrollbar{width:6px}#detail-bottom-sheet.is-expanded #detail-panel-wrapper::-webkit-scrollbar-track{background:transparent}#detail-bottom-sheet.is-expanded #detail-panel-wrapper::-webkit-scrollbar-thumb{background:#0003;border-radius:3px}#detail-bottom-sheet.is-expanded #detail-panel-wrapper::-webkit-scrollbar-thumb:hover{background:#00000059}#detail-bottom-sheet:not(.is-expanded) #detail-panel-wrapper{overflow:hidden!important;touch-action:none!important;scrollbar-width:none}#detail-bottom-sheet:not(.is-expanded) #detail-panel-wrapper::-webkit-scrollbar{display:none;width:0}#detail-panel-content{padding:.5rem .75rem 4rem;box-sizing:border-box;background:var(--bg-main)}#detail-panel-content .step-detail{display:flex;position:relative;padding-left:2.5rem;padding-bottom:1.25rem;min-height:40px}#detail-panel-content .step-detail:last-child{padding-bottom:0}#detail-panel-content .step-detail:before{content:"";position:absolute;left:15px;top:0;bottom:-1.25rem;width:4px;background:var(--line-color, var(--border))}#detail-panel-content .step-detail:last-child:before{bottom:.75rem}#detail-panel-content .step-detail:after{content:"";position:absolute;left:11px;top:4px;width:12px;height:12px;border-radius:50%;background:var(--bg-main);border:2px solid var(--line-color, var(--border));z-index:1}#detail-panel-content .step-detail.walk:before,#detail-panel-content .step-detail.bicycle:before{background:repeating-linear-gradient(var(--line-color, var(--text-secondary)) 0,var(--line-color, var(--text-secondary)) 4px,transparent 4px,transparent 8px)}#detail-panel-content .step-detail.walk:after,#detail-panel-content .step-detail.bicycle:after{border-color:var(--line-color, var(--text-secondary))}#detail-panel-content .step-icon{position:absolute;left:0;top:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%;background:var(--bg-main);z-index:2}#detail-panel-content .step-detail.walk .step-icon,#detail-panel-content .step-detail.bicycle .step-icon{background:var(--bg-main);color:var(--text-secondary)}#detail-panel-content .step-detail.walk .step-icon svg{width:20px;height:20px}#detail-panel-content .step-detail.bicycle .step-icon svg{width:20px;height:20px}#detail-panel-content .step-info{display:flex;flex-direction:column;padding-top:4px;min-width:0;word-wrap:break-word;overflow-wrap:break-word}#detail-panel-content .step-instruction{font-size:1rem;font-weight:600;color:var(--text-primary);line-height:1.4;word-wrap:break-word;overflow-wrap:break-word;word-break:break-word}#detail-panel-content .step-detail.wait .wait-info{display:flex;flex-direction:column;gap:.1rem}#detail-panel-content .wait-info .wait-time{font-size:.95rem;font-weight:600;color:var(--text-secondary)}#detail-panel-content .wait-info .wait-duration{font-size:.9rem;color:var(--text-secondary)}#detail-panel-content .step-duration-inline{font-size:.9rem;font-weight:500;color:var(--text-secondary);margin-left:.25rem}#detail-panel-content .step-sub-instruction{font-size:.9rem;color:var(--text-secondary);margin-top:.25rem}#detail-panel-content .step-stop-point{margin-top:.75rem;padding-left:0;position:relative;font-size:.9rem;color:var(--text-primary);font-weight:600}#detail-panel-content .step-stop-point:before{display:none}#detail-panel-content .step-stop-point .step-time-detail{font-size:.875rem;color:var(--text-secondary);margin-left:.5rem;font-weight:500}#detail-panel-content .stop-context{display:grid;grid-template-columns:auto 1fr auto;gap:.5rem;align-items:baseline}#detail-panel-content .stop-context .stop-label{font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);opacity:.8;white-space:nowrap}#detail-panel-content .stop-context .step-time{font-size:.95rem;font-weight:600;color:var(--text-primary)}#detail-panel-content .stop-context.is-terminus .stop-label{color:var(--primary);opacity:1;font-weight:800}#detail-panel-content .stop-context.is-terminus .step-time{color:var(--primary)}#detail-panel-content .intermediate-stops{margin:.75rem 0;padding-left:0}#detail-panel-content .intermediate-stops summary{font-size:.875rem;font-weight:600;color:var(--primary);padding:.25rem 0}#detail-panel-content .intermediate-stops-list{margin:.5rem 0 0;padding-left:.5rem;list-style-type:none;font-size:.875rem;color:var(--text-secondary);border-left:4px solid var(--line-color, var(--border))}#detail-panel-content .intermediate-stops-list li{position:relative;padding:.3rem 0 .3rem .75rem}#detail-panel-content .intermediate-stops-list li:before{content:"";position:absolute;left:-.7rem;top:.65em;width:8px;height:2px;background:var(--line-color, var(--border))}#detail-panel-content .intermediate-stops-list.walk-steps{border-left-color:transparent;padding-left:0;margin-top:.75rem}#detail-panel-content .intermediate-stops-list.walk-steps li{padding-left:0;display:flex;gap:.75rem;align-items:flex-start;padding-bottom:.5rem}#detail-panel-content .intermediate-stops-list.walk-steps li:before{display:none}#detail-panel-content .intermediate-stops-list.walk-steps svg{width:16px;height:16px;flex-shrink:0;color:var(--text-secondary);margin-top:.2em}#detail-panel-content .intermediate-stops-list .walk-step-info{display:flex;flex-direction:column;line-height:1.5}#detail-panel-content .intermediate-stops-list .walk-step-meta{font-size:.9em;color:var(--text-secondary);font-weight:400}@keyframes slideUpFade{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.hero-section,.main-nav-buttons-condensed{animation:slideUpFade .8s cubic-bezier(.2,.8,.2,1) forwards;opacity:0}.main-nav-buttons-condensed{animation-delay:.1s}.bottom-content-wrapper{opacity:1}.hero-section{padding:1.25rem 1rem;margin-bottom:1rem}.main-nav-buttons-condensed{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:auto auto;gap:var(--spacing-3);margin-top:var(--spacing-6)}.nav-button-condensed[data-view=itineraire]{grid-column:1 / -1;padding:var(--spacing-5);font-size:var(--font-size-lg);aspect-ratio:auto;border-radius:var(--radius-lg);box-shadow:var(--elevation-3)}.nav-button-condensed[data-view=horaires],.nav-button-condensed[data-view=info-trafic]{padding:var(--spacing-4);font-size:var(--font-size-sm);flex-direction:column;text-align:center;justify-content:center;aspect-ratio:1.2 / 1;border-radius:var(--radius-md)}.nav-button-condensed svg{width:24px;height:24px;margin-bottom:var(--spacing-2)}.nav-button-condensed[data-view=itineraire] svg{width:28px;height:28px}.key-figures-grid{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;gap:.5rem;padding:.5rem 0;position:relative;z-index:10!important}.key-figure-item{flex:1;margin-bottom:0}.key-figure-number{font-size:1.5rem}.key-figure-label{font-size:.7rem}.hero-section .planner-block .planner-title-bar h3{font-size:1.2rem}#detail-panel-content .step-icon .route-line-badge{font-size:.9rem;padding:.4rem .6rem;min-width:32px;height:32px;border-radius:50%;box-shadow:var(--shadow-sm);border:2px solid white}}@keyframes slideUp{0%{opacity:0;transform:translate(-50%) translateY(20px)}to{opacity:1;transform:translate(-50%) translateY(0)}}#update-banner{font-family:inherit}#update-banner .update-banner-content{display:flex;align-items:center;gap:12px;font-size:.9rem;font-weight:500}#update-banner .btn-sm{padding:6px 14px;font-size:.85rem;border-radius:8px}#update-banner #update-dismiss{width:28px;height:28px;font-size:1.2rem;border:none;background:transparent;cursor:pointer;color:var(--text-secondary)}#update-banner #update-dismiss:hover{color:var(--text-primary)}@media (max-width: 480px){#update-banner{left:10px;right:10px;transform:none;bottom:10px}#update-banner .update-banner-content{flex-wrap:wrap;justify-content:center}}#top-info-bar{background:linear-gradient(135deg,#1e3a5f,#0d2137);padding:.5rem 1.5rem;font-size:.8rem;color:#ffffffe6}.top-info-content{max-width:1300px;margin:0 auto;display:flex;justify-content:space-between;align-items:center;gap:1rem}.top-info-left{display:flex;gap:1.5rem}.top-info-link{display:inline-flex;align-items:center;gap:.4rem;color:#ffffffd9;text-decoration:none;transition:color .2s ease}.top-info-link:hover{color:#fff}.top-info-link svg{opacity:.7}.top-info-badge{display:inline-flex;align-items:center;gap:.35rem;padding:.25rem .75rem;background:#22c55e33;border:1px solid rgba(34,197,94,.4);border-radius:var(--radius-full);color:#4ade80;font-weight:600}body.view-is-locked #top-info-bar{display:none}body.dark-theme #top-info-bar{background:linear-gradient(135deg,#0a1929,#071018)}@media (max-width: 768px){#top-info-bar{padding:.4rem 1rem}.top-info-left{gap:.75rem}.top-info-link span,.top-info-badge span{display:none}}.header-nav-link{display:inline-flex;align-items:center;gap:.4rem;padding:.5rem .85rem;color:var(--text-secondary);text-decoration:none;font-weight:600;font-size:.875rem;border-radius:var(--radius-full);transition:all .2s ease}.header-nav-link:hover{background:var(--bg-secondary);color:var(--primary)}.header-nav-link svg{opacity:.7}@media (max-width: 768px){.header-nav-link span{display:none}.header-nav-link{padding:.5rem}}.hero-headline{text-align:center;margin-bottom:2rem;padding-top:1rem}.hero-headline h1{font-size:2.25rem;font-weight:800;color:#fff;text-shadow:0 2px 8px rgba(0,0,0,.5),0 4px 20px rgba(0,0,0,.3);margin:0 0 .75rem;line-height:1.2}.hero-headline h1 .highlight{background:linear-gradient(135deg,#4ade80,#22d3ee);-webkit-background-clip:text;background-clip:text;color:transparent;text-shadow:none;filter:drop-shadow(0 2px 4px rgba(0,0,0,.2))}.hero-subtitle{font-size:1.125rem;color:#fffffff2;font-weight:500;margin:0;text-shadow:0 1px 6px rgba(0,0,0,.4)}@media (max-width: 768px){.hero-headline{margin-bottom:1.25rem;padding-top:.5rem}.hero-headline h1{font-size:1.5rem}.hero-subtitle{font-size:.9rem}}.services-section{max-width:900px;margin:2.5rem auto 0;padding:0 1rem}.section-title{font-size:1.25rem;font-weight:700;color:var(--text-primary);margin:0 0 1.25rem;display:flex;align-items:center;gap:.5rem}.section-title:before{content:"";width:4px;height:1.25rem;background:var(--primary);border-radius:2px}.services-grid{display:flex;flex-direction:column;gap:1rem}.service-card{display:flex;align-items:center;gap:1rem;background:var(--bg-main);border:1px solid var(--border);border-radius:var(--radius-lg);padding:1.25rem 1.5rem;cursor:pointer;transition:all var(--transition-normal),transform .2s cubic-bezier(.34,1.56,.64,1);text-align:left;position:relative;box-shadow:var(--shadow-sm)}.service-card:hover{border-color:var(--primary);box-shadow:0 8px 24px #2563eb26;transform:translateY(-3px) scale(1.01)}.service-card:active{transform:translateY(-1px) scale(.99);transition:transform .1s ease}.service-card-icon{width:56px;height:56px;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:transform var(--transition-normal),box-shadow var(--transition-normal)}.service-card:hover .service-card-icon{transform:scale(1.1) rotate(3deg);box-shadow:0 4px 12px #0000001a}.service-card-icon--green{background:linear-gradient(135deg,#dcfce7,#bbf7d0);color:#16a34a}.service-card-icon--orange{background:linear-gradient(135deg,#ffedd5,#fed7aa);color:#ea580c}.service-card-icon--blue{background:linear-gradient(135deg,#dbeafe,#bfdbfe);color:#2563eb}.service-card-content{flex:1;min-width:0}.service-card-content h3{font-size:1.1rem;font-weight:700;color:var(--text-primary);margin:0 0 .35rem}.service-card-content p{font-size:.875rem;color:var(--text-secondary);margin:0;line-height:1.5}.service-card-arrow{color:var(--text-secondary);opacity:.5;transition:all .2s ease;flex-shrink:0}.service-card:hover .service-card-arrow{opacity:1;color:var(--primary);transform:translate(4px)}.service-card .notification-badge{position:absolute;top:1rem;right:3rem}body.dark-theme .service-card{background:#ffffff08;border-color:#ffffff14}body.dark-theme .service-card-icon--green{background:#22c55e26}body.dark-theme .service-card-icon--orange{background:#f9731626}body.dark-theme .service-card-icon--blue{background:#3b82f626}@media (max-width: 768px){.services-section{margin-top:1.5rem}.service-card{padding:1rem}.service-card-icon{width:48px;height:48px}.service-card-icon svg{width:24px;height:24px}.service-card-content h3{font-size:1rem}.service-card-content p{font-size:.8rem}}.promo-banner{max-width:900px;margin:2rem auto 0;padding:0 1rem}.promo-banner-content{display:flex;align-items:center;gap:1.25rem;background:linear-gradient(135deg,#0ea5e9,#0284c7);border-radius:var(--radius-lg);padding:1.25rem 1.5rem;color:#fff;box-shadow:0 4px 20px #0ea5e94d}.promo-banner-icon{width:48px;height:48px;background:#fff3;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.promo-banner-text{flex:1;min-width:0}.promo-banner-text strong{display:block;font-size:1rem;font-weight:700;margin-bottom:.25rem}.promo-banner-text span{font-size:.875rem;opacity:.9}.promo-banner-btn{display:inline-flex;align-items:center;gap:.5rem;padding:.65rem 1.25rem;background:#fff;color:#0284c7;border-radius:var(--radius-full);font-weight:700;font-size:.9rem;text-decoration:none;transition:all .2s ease;flex-shrink:0}.promo-banner-btn:hover{transform:scale(1.05);box-shadow:0 4px 15px #0003}@media (max-width: 768px){.promo-banner-content{flex-direction:column;text-align:center;padding:1.25rem 1rem}.promo-banner-icon{display:none}.promo-banner-btn{width:100%;justify-content:center}}.stats-section{max-width:900px;margin:2rem auto 0;padding:0 1rem 2rem}.stats-card{background:var(--bg-main);border:1px solid var(--border);border-radius:var(--radius-lg);padding:1.5rem;box-shadow:var(--shadow-sm)}.stats-header{display:flex;align-items:center;gap:.75rem;margin-bottom:1.25rem;padding-bottom:1rem;border-bottom:1px solid var(--border)}.stats-header svg{color:var(--primary)}.stats-header h3{font-size:1rem;font-weight:700;color:var(--text-primary);margin:0}.stats-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem}.stat-item{text-align:center;padding:.75rem;background:var(--bg-secondary);border-radius:var(--radius-md)}.stat-number{display:block;font-size:1.75rem;font-weight:800;color:var(--primary);line-height:1.2}.stat-label{display:block;font-size:.8rem;color:var(--text-secondary);font-weight:500;margin-top:.25rem}body.dark-theme .stats-card{background:#ffffff08;border-color:#ffffff14}body.dark-theme .stat-item{background:#ffffff0d}@media (max-width: 768px){.stats-grid{grid-template-columns:repeat(2,1fr)}.stat-number{font-size:1.5rem}}#site-footer{background:linear-gradient(180deg,#1e293b,#0f172a);color:#e2e8f0;margin-top:auto;padding:0;position:relative;z-index:10}body.view-is-locked #site-footer{display:none}@media (min-width: 769px){body.view-map-locked #site-footer{display:none}}.footer-content{max-width:1300px;margin:0 auto;padding:2.5rem 1.5rem 1.5rem}.footer-main{display:grid;grid-template-columns:1fr 2fr;gap:3rem;padding-bottom:2rem;border-bottom:1px solid rgba(255,255,255,.1)}.footer-brand{display:flex;align-items:flex-start;gap:1rem}.footer-logo{width:48px;height:48px;object-fit:contain}.footer-brand-text{display:flex;flex-direction:column}.footer-brand-name{font-size:1.25rem;font-weight:800;color:#fff;background:linear-gradient(120deg,#60a5fa,#34d399);-webkit-background-clip:text;background-clip:text;color:transparent}.footer-brand-tagline{font-size:.875rem;color:#94a3b8;margin-top:.25rem}.footer-links{display:grid;grid-template-columns:repeat(4,1fr);gap:2rem;align-items:start}.footer-links-column h4{font-size:.85rem;font-weight:700;color:#fff;text-transform:uppercase;letter-spacing:.05em;margin:0 0 1rem}.footer-links-column a{display:block;color:#94a3b8;text-decoration:none;font-size:.9rem;padding:.35rem 0;transition:color var(--transition-fast),transform var(--transition-fast);position:relative}.footer-links-column a:hover{color:#60a5fa;transform:translate(4px)}.footer-links-column a:before{content:"→";position:absolute;left:-15px;opacity:0;transition:opacity var(--transition-fast),left var(--transition-fast)}.footer-links-column a:hover:before{opacity:1;left:-12px}.footer-data-info{display:flex;align-items:center;gap:.4rem;color:#94a3b8;font-size:.85rem;margin:0}.footer-data-info svg{opacity:.6}.footer-license{font-size:.8rem;color:#64748b;margin:.25rem 0 0}.footer-bottom{padding-top:1.5rem;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}.footer-independent{display:flex;align-items:center;gap:.4rem;font-size:.8rem;color:#64748b;margin:0;padding:.35rem .75rem;background:#ffffff0d;border-radius:var(--radius-full)}.footer-independent svg{opacity:.6}.footer-copyright{font-size:.8rem;color:#64748b;margin:0}.footer-social-column{min-width:100px}.footer-social-column h4{margin-bottom:.75rem!important}.footer-social-links{display:flex;gap:.5rem;margin-top:0;align-items:center}.footer-social-btn{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:50%;background:#ffffff14;color:#94a3b8;transition:all .25s ease;border:1px solid rgba(255,255,255,.1)}.footer-social-btn svg{width:20px;height:20px}.footer-social-btn:hover{transform:translateY(-3px);box-shadow:0 4px 15px #0000004d}.footer-social-btn[aria-label*=Instagram]:hover{background:linear-gradient(45deg,#f09433,#e6683c,#dc2743,#cc2366,#bc1888);color:#fff;border-color:transparent}.footer-social-btn[aria-label*=Facebook]:hover{background:#1877f2;color:#fff;border-color:transparent}.footer-bottom-right{display:flex;align-items:center;gap:1rem}.footer-social-mobile{display:none}.footer-social-btn-sm{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:50%;background:#ffffff14;color:#94a3b8;transition:all .2s ease}.footer-social-btn-sm svg{width:16px;height:16px}.footer-social-btn-sm:hover{transform:scale(1.1)}.footer-social-btn-sm[aria-label*=Instagram]:hover{background:linear-gradient(45deg,#f09433,#e6683c,#dc2743,#cc2366,#bc1888);color:#fff}.footer-social-btn-sm[aria-label*=Facebook]:hover{background:#1877f2;color:#fff}@media (max-width: 768px){.footer-main{grid-template-columns:1fr;gap:2rem}.footer-brand{justify-content:center;text-align:center}.footer-links{grid-template-columns:1fr;gap:1.5rem;text-align:center}.footer-links-column h4{margin-bottom:.75rem}.footer-social-links{justify-content:center}.footer-social-column{order:-1}.footer-data-info{justify-content:center}.footer-bottom{flex-direction:column;text-align:center;gap:.75rem}.footer-bottom-right{flex-direction:column;gap:.75rem}.footer-social-mobile{display:flex;gap:.5rem}}.services-section,.promo-banner,.stats-section{animation:slideUpFade .8s cubic-bezier(.2,.8,.2,1) forwards}.services-section{animation-delay:.15s}.promo-banner{animation-delay:.25s}.stats-section{animation-delay:.35s}.network-delays-widget{max-width:900px;margin:1.5rem auto 0;padding:0 1rem}.network-delays-widget .network-delays-header{background:#fef3c7;border:1px solid #fcd34d;border-radius:var(--radius-lg) var(--radius-lg) 0 0;padding:.75rem 1rem;display:flex;align-items:center;gap:.5rem;font-weight:600;color:#92400e}.network-delays-widget .network-delays-list{background:var(--bg-main);border:1px solid var(--border);border-top:none;border-radius:0 0 var(--radius-lg) var(--radius-lg);padding:.5rem}body:not(.view-is-locked){padding-top:0}@media (max-width: 768px){body:not(.view-is-locked){padding-top:56px}}@media (min-width: 769px){body:not(.view-is-locked) #main-header{top:0}#main-header{position:sticky;top:0}}.header-nav-main{display:flex;align-items:center;gap:.25rem;margin-left:2rem}.nav-dropdown{position:relative}.nav-dropdown-trigger{display:flex;align-items:center;gap:.5rem;padding:.6rem 1rem;background:transparent;border:none;color:var(--text-primary);font-size:.95rem;font-weight:600;cursor:pointer;border-radius:var(--radius-md);transition:all .2s ease;font-family:inherit}.nav-dropdown-trigger:hover{background:var(--bg-secondary);color:var(--primary)}.nav-dropdown-trigger svg{transition:transform .2s ease;opacity:.6}.nav-dropdown:hover .nav-dropdown-trigger svg,.nav-dropdown.is-open .nav-dropdown-trigger svg{transform:rotate(180deg)}.nav-dropdown-menu{position:absolute;top:calc(100% + .5rem);left:0;min-width:220px;background:var(--bg-main);border:1px solid var(--border);border-radius:var(--radius-lg);box-shadow:0 10px 40px #00000026;padding:.5rem;opacity:0;visibility:hidden;transform:translateY(-10px) scale(.95);transform-origin:top left;transition:all var(--transition-normal);z-index:1200}.nav-dropdown:hover .nav-dropdown-menu,.nav-dropdown.is-open .nav-dropdown-menu{opacity:1;visibility:visible;transform:translateY(0) scale(1)}.nav-dropdown-item{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;color:var(--text-primary);text-decoration:none;border-radius:var(--radius-md);font-size:.9rem;font-weight:500;transition:all var(--transition-fast);position:relative;overflow:hidden}.nav-dropdown-item:before{content:"";position:absolute;left:0;top:50%;transform:translateY(-50%);width:3px;height:0;background:var(--primary);border-radius:0 2px 2px 0;transition:height var(--transition-fast)}.nav-dropdown-item:hover{background:var(--bg-secondary);color:var(--primary);padding-left:1.25rem}.nav-dropdown-item:hover:before{height:60%}.nav-dropdown-item svg{color:var(--text-secondary);flex-shrink:0}.nav-dropdown-item:hover svg{color:var(--primary)}.nav-dropdown-item--disabled{opacity:.5;cursor:not-allowed;pointer-events:none}.nav-badge{display:inline-flex;padding:.15rem .5rem;background:var(--primary);color:#fff;font-size:.7rem;font-weight:700;border-radius:var(--radius-full);margin-left:auto}.header-nav-right{display:flex;align-items:center;justify-content:center;gap:.75rem;margin-left:auto;height:100%}.header-nav-right .btn-icon-round{margin:0}.mobile-menu-toggle{display:none;flex-direction:column;justify-content:center;gap:5px;width:40px;height:40px;padding:8px;background:transparent;border:none;cursor:pointer;border-radius:var(--radius-md);order:-1}.mobile-menu-toggle span{display:block;width:100%;height:2px;background:var(--text-primary);border-radius:2px;transition:all .3s ease}.mobile-menu-toggle.is-active span:nth-child(1){transform:rotate(45deg) translate(5px,5px)}.mobile-menu-toggle.is-active span:nth-child(2){opacity:0}.mobile-menu-toggle.is-active span:nth-child(3){transform:rotate(-45deg) translate(5px,-5px)}.mobile-menu{position:absolute;top:100%;left:0;right:0;max-height:calc(100vh - 76px);background:var(--bg-main, #ffffff);border-top:1px solid var(--border, #e2e8f0);border-radius:0 0 var(--radius-lg) var(--radius-lg);box-shadow:0 10px 40px #00000026;padding:.75rem;overflow-y:auto;animation:slideInDown .25s cubic-bezier(.4,0,.2,1) forwards;transform-origin:top center;z-index:1100}@keyframes slideInDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.mobile-menu.hidden{display:none}.mobile-menu-section{margin-bottom:.25rem;background:transparent;border-radius:var(--radius-md);padding:0}.mobile-menu-section:last-child{margin-bottom:0}.mobile-menu-section h4{font-size:.75rem;font-weight:700;color:var(--text-secondary, #64748b);text-transform:uppercase;letter-spacing:.05em;margin:0 0 .75rem;padding-left:.5rem}.mobile-menu-item{display:flex;align-items:center;gap:.75rem;padding:.6rem 1rem .6rem 1.25rem;margin:.15rem .5rem .15rem .75rem;color:var(--text-primary, #0f172a)!important;text-decoration:none;border-radius:var(--radius-md);font-size:.9rem;font-weight:450;letter-spacing:.01em;text-transform:none;transition:all .2s ease;position:relative;background:transparent}.mobile-menu-item:before{content:"";display:inline-block;width:5px;height:5px;min-width:5px;background:var(--pm-green, #22c55e);opacity:.8;border-radius:50%;transition:all .2s ease}.mobile-menu-item:hover{background:#00c8ff1a;color:var(--pm-cyan, #00c8ff)!important;padding-left:1.5rem}.mobile-menu-item:hover:before{background:var(--pm-cyan, #00c8ff);opacity:1;transform:scale(1.3)}.mobile-menu-item:active{transform:scale(.98)}.mobile-menu-item--disabled{opacity:.5;cursor:not-allowed}.mobile-menu-category{display:flex;align-items:center;justify-content:space-between;width:100%;padding:.9rem 1rem;margin-bottom:.35rem;background:transparent!important;border:none;border-left:3px solid var(--pm-green, #22c55e);outline:none!important;box-shadow:none!important;font-size:.75rem;font-weight:700;color:var(--text-primary, #0f172a)!important;opacity:1!important;text-transform:uppercase;letter-spacing:.1em;cursor:pointer;transition:all .2s ease;-webkit-tap-highlight-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:var(--radius-md)}.mobile-menu-category *,.mobile-menu-category span,.mobile-menu-category svg{color:var(--text-primary, #0f172a)!important;stroke:var(--text-primary, #0f172a)!important;opacity:1!important;fill:none}.mobile-menu-category:focus,.mobile-menu-category:focus-visible,.mobile-menu-category:focus-within,button.mobile-menu-category:focus{outline:none!important;outline-width:0!important;box-shadow:none!important;-webkit-tap-highlight-color:transparent!important}.mobile-menu-category:hover{background:#22c55e0f!important;border-left-color:var(--pm-green, #22c55e)!important;color:var(--text-primary, #0f172a)!important}.mobile-menu-category:hover span,.mobile-menu-category:hover svg{color:var(--text-primary, #0f172a)!important;stroke:var(--text-primary, #0f172a)}.mobile-menu-category[aria-expanded=true]{background:#22c55e14!important;border-left-color:var(--pm-cyan, #00c8ff)!important}.mobile-menu-category:active{transform:scale(.98)}.mobile-menu-chevron{transition:transform .25s ease;flex-shrink:0;color:var(--text-primary, #0f172a)}.mobile-menu-category[aria-expanded=true] .mobile-menu-chevron{transform:rotate(180deg)}.mobile-menu-items{max-height:0;overflow:hidden;transition:max-height .3s ease-out,opacity .2s ease;opacity:0;margin-left:.5rem;padding-left:.5rem;border-left:1px solid rgba(34,197,94,.2)}.mobile-menu-items.is-expanded{max-height:500px;opacity:1;padding-top:.25rem;padding-bottom:.25rem;transition:max-height .3s ease-in,opacity .2s ease}body.mobile-menu-open{overflow:hidden!important;position:fixed;width:100%;height:100%}body.dark-theme .nav-dropdown-menu{background:#0f172afa;border-color:#ffffff1a;box-shadow:0 10px 40px #00000080}body.dark-theme .mobile-menu{background:#0f172a;border-color:#ffffff1a}body.dark-theme .mobile-menu-category{color:#fff!important;border-left-color:var(--pm-green, #22c55e)}body.dark-theme .mobile-menu-category *,body.dark-theme .mobile-menu-category span,body.dark-theme .mobile-menu-category svg{color:#fff!important;stroke:#fff!important}body.dark-theme .mobile-menu-chevron{color:#fff}body.dark-theme .mobile-menu-section h4{color:#ffffffb3}body.dark-theme .mobile-menu-category:hover{color:#fff!important;background:#22c55e14!important}body.dark-theme .mobile-menu-category[aria-expanded=true]{background:#22c55e1a!important;border-left-color:var(--pm-cyan, #00c8ff)!important}body.dark-theme .mobile-menu-item{color:#ffffffe6}body.dark-theme .mobile-menu-item:before{background:var(--pm-green, #22c55e);opacity:.6}body.dark-theme .mobile-menu-item:hover{background:#00c8ff1a;color:#fff}body.dark-theme .mobile-menu-item:hover:before{background:var(--pm-cyan, #00c8ff);opacity:1}body.dark-theme .mobile-menu-items{border-left-color:#22c55e40}@media (max-width: 900px){.header-nav-main{display:none}.mobile-menu-toggle{display:flex;order:-1}.header-content{justify-content:flex-start;gap:.5rem}.logo{flex:1}.header-nav-right{margin-left:auto;order:10;display:flex;align-items:center;justify-content:center;height:56px}.header-nav-right .btn-icon-round{width:36px;height:36px;font-size:.9rem;margin:auto 0}}@media (min-width: 901px){.mobile-menu{display:none!important}}.tarifs-page{max-width:900px;margin:0 auto;padding:2rem 1.5rem}.tarifs-header{text-align:center;margin-bottom:2rem}.tarifs-header h1{font-size:2rem;font-weight:800;color:var(--text-primary);margin:0 0 .5rem}.tarifs-header p{color:var(--text-secondary);font-size:1.1rem}.tarifs-card{background:var(--bg-main);border:1px solid var(--border);border-radius:var(--radius-lg);padding:2rem;box-shadow:var(--shadow-md);margin-bottom:1.5rem}.tarifs-card-warning{border-left:4px solid #dc3545}.tarifs-section-title{display:flex;align-items:center;gap:.75rem;font-size:1.35rem;font-weight:700;color:var(--text-primary);margin:0 0 1.25rem;padding-bottom:.75rem;border-bottom:2px solid var(--primary)}.tarifs-icon{display:inline-flex;align-items:center;justify-content:center;color:var(--primary)}.tarifs-subtitle{font-size:1.1rem;font-weight:600;color:var(--text-primary);margin:1.5rem 0 .75rem}.tarifs-content p{color:var(--text-secondary);line-height:1.7;margin-bottom:1rem}.tarifs-content ul{list-style:none;padding:0;margin:1rem 0}.tarifs-content li{padding:.5rem 0 .5rem 1.5rem;position:relative;color:var(--text-secondary);line-height:1.6}.tarifs-content li:before{content:"•";color:var(--primary);font-weight:700;position:absolute;left:0}.tarifs-info-box{background:var(--bg-secondary);border-radius:var(--radius-md);padding:1.25rem;margin:1.25rem 0}.tarifs-info-item{display:flex;gap:1rem;padding:.75rem 0;border-bottom:1px solid var(--border)}.tarifs-info-item:last-child{border-bottom:none;padding-bottom:0}.tarifs-info-item:first-child{padding-top:0}.tarifs-bullet{display:flex;align-items:center;justify-content:center;flex-shrink:0;color:var(--primary)}.tarifs-info-item p{margin:0}.tarifs-download-btn{display:inline-flex;align-items:center;gap:.75rem;background:linear-gradient(135deg,var(--primary),var(--primary-dark));color:#fff;padding:1rem 1.5rem;border-radius:var(--radius-md);text-decoration:none;font-weight:600;margin-top:1rem;transition:transform .2s,box-shadow .2s;box-shadow:var(--shadow-md)}.tarifs-download-btn:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg);color:#fff}.tarifs-download-warning{background:linear-gradient(135deg,#dc3545,#c82333)}.tarifs-buy-options{display:flex;flex-direction:column;gap:1rem;margin-top:1rem}.tarifs-buy-item{display:flex;gap:1rem;padding:1rem;background:var(--bg-secondary);border-radius:var(--radius-md);border:1px solid var(--border);transition:border-color .2s}.tarifs-buy-item:hover{border-color:var(--primary)}.tarifs-buy-icon{flex-shrink:0;width:50px;height:50px;display:flex;align-items:center;justify-content:center;background:#fff;border-radius:var(--radius-md);box-shadow:var(--shadow-sm);color:var(--primary)}.tarifs-buy-text{flex:1}.tarifs-buy-text strong{display:block;color:var(--text-primary);margin-bottom:.25rem}.tarifs-buy-text p{margin:0;font-size:.9rem;color:var(--text-secondary)}.tarifs-buy-text a{color:var(--primary);text-decoration:none}.tarifs-buy-text a:hover{text-decoration:underline}.tarifs-features{display:flex;flex-direction:column;gap:1.25rem;margin-top:1.25rem}.tarifs-feature{display:flex;gap:1rem;padding:1.25rem;background:linear-gradient(135deg,#2563eb0d,#2563eb05);border-radius:var(--radius-md);border:1px solid rgba(37,99,235,.1)}.tarifs-feature-icon{display:flex;align-items:center;justify-content:center;flex-shrink:0;width:48px;height:48px;color:var(--primary)}.tarifs-feature-content{flex:1}.tarifs-feature-content strong{display:block;font-size:1.1rem;color:var(--text-primary);margin-bottom:.5rem}.tarifs-feature-content p{margin:0 0 .5rem}.tarifs-link{color:var(--primary);font-weight:500;text-decoration:none}.tarifs-link:hover{text-decoration:underline}.tarifs-small{font-size:.85rem!important;color:var(--text-secondary)!important;opacity:.8}.tarifs-amende-options{background:#fff3cd;border:1px solid #ffc107;border-radius:var(--radius-md);padding:1.25rem;margin:1rem 0}body.dark-theme .tarifs-amende-options{background:#ffc1071a;border-color:#ffc1074d}.tarifs-mediation{background:linear-gradient(135deg,#28a74514,#28a74508);border:1px solid rgba(40,167,69,.2);border-radius:var(--radius-md);padding:1.25rem;margin-top:1.5rem}.tarifs-price{font-weight:700;color:var(--primary);font-size:1.1rem}.tarifs-note{background:var(--bg-secondary);border-left:4px solid var(--primary);padding:1rem 1.25rem;border-radius:0 var(--radius-md) var(--radius-md) 0;margin:1.5rem 0}.tarifs-note p{margin:0;font-size:.9rem}body.dark-theme .tarifs-card{background:#ffffff08;border-color:#ffffff14}body.dark-theme .tarifs-buy-item,body.dark-theme .tarifs-info-box{background:#ffffff08}body.dark-theme .tarifs-buy-icon{background:#ffffff14}body.dark-theme .tarifs-feature{background:#4aa3ff0d;border-color:#4aa3ff1a}body.dark-theme .tarifs-mediation{background:#28a74514}.tarifs-intro{font-size:1.1rem;color:var(--text-secondary);margin-bottom:1.5rem}.tarifs-cta-section{background:linear-gradient(135deg,#2563eb0d,#2563eb05);border:1px solid rgba(37,99,235,.15);border-radius:var(--radius-md);padding:1.5rem;margin-top:1.5rem;text-align:center}.tarifs-cta-text{margin-bottom:1rem!important;font-weight:500}.tarifs-nav-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-top:2rem}.tarifs-nav-card{display:flex;align-items:center;gap:1rem;background:var(--bg-main);border:1px solid var(--border);border-radius:var(--radius-md);padding:1rem 1.25rem;text-decoration:none;transition:all .2s;box-shadow:var(--shadow-sm)}.tarifs-nav-card:hover{border-color:var(--primary);box-shadow:var(--shadow-md);transform:translateY(-2px)}.tarifs-nav-icon{display:flex;align-items:center;justify-content:center;color:var(--primary)}.tarifs-nav-title{flex:1;font-weight:600;color:var(--text-primary)}.tarifs-nav-arrow{color:var(--primary);font-weight:700;font-size:1.25rem}.tarifs-list-compact{list-style:none!important;padding:0!important;margin:.5rem 0 0!important}.tarifs-list-compact li{padding:.25rem 0 .25rem 1rem!important;position:relative;font-size:.9rem}.tarifs-list-compact li:before{content:"•";color:var(--primary);position:absolute;left:0}.tarifs-link-btn{display:inline-flex;align-items:center;gap:.5rem;color:var(--primary);font-weight:600;text-decoration:none;padding:.5rem 0;transition:gap .2s}.tarifs-link-btn:hover{gap:.75rem;text-decoration:none}.tarifs-buy-item--highlight{border-color:var(--primary);background:linear-gradient(135deg,rgba(37,99,235,.05),transparent)}.tarifs-app-links{display:flex;gap:.75rem;margin-top:.75rem}.tarifs-app-btn{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:var(--radius-full);font-size:.85rem;font-weight:600;text-decoration:none;transition:transform .2s}.tarifs-app-btn:hover{transform:scale(1.05)}.tarifs-app-btn--android{background:#3ddc84;color:#000}.tarifs-app-btn--ios{background:#000;color:#fff}.tarifs-feature--primary{background:linear-gradient(135deg,#2563eb1a,#2563eb08);border:2px solid rgba(37,99,235,.2)}.tarifs-feature-benefits{display:flex;gap:1rem;margin:.75rem 0}.tarifs-benefit{display:inline-flex;align-items:center;gap:.35rem;background:#28a7451a;color:#28a745;padding:.25rem .75rem;border-radius:var(--radius-full);font-size:.8rem;font-weight:600}.tarifs-benefit svg{flex-shrink:0}.tarifs-list-locations{list-style:none!important;padding:0!important;margin:1rem 0!important}.tarifs-list-locations li{display:flex;flex-direction:column;padding:.75rem!important;background:var(--bg-secondary);border-radius:var(--radius-sm);margin-bottom:.5rem}.tarifs-list-locations li:before{display:none}.tarifs-location-city{font-weight:700;color:var(--text-primary)}.tarifs-location-stops{font-size:.85rem;color:var(--text-secondary)}.tarifs-distributeur-features{background:var(--bg-secondary);border-radius:var(--radius-md);padding:1rem;margin-top:1rem}.tarifs-distributeur-features h4{margin:0 0 .75rem;font-size:.95rem;color:var(--text-primary)}.tarifs-distributeur-features ul{margin:0}.tarifs-card--info{border-left:4px solid var(--primary)}.tarifs-card--warning{border-left:4px solid #ffc107}.tarifs-card--success{border-left:4px solid #28a745}.tarifs-alert{padding:1rem;border-radius:var(--radius-md);margin-bottom:1rem}.tarifs-alert--important{background:linear-gradient(135deg,#2563eb1a,#2563eb08);border:1px solid rgba(37,99,235,.2)}.tarifs-alert--warning{background:#fff3cd;border:1px solid #ffc107}body.dark-theme .tarifs-alert--warning{background:#ffc1071a}.tarifs-alert p{margin:0 0 .5rem}.tarifs-alert p:last-child{margin-bottom:0}.tarifs-payment-options{display:flex;flex-direction:column;gap:.75rem;margin-top:1rem}.tarifs-payment-option{display:flex;gap:1rem;padding:1rem;background:var(--bg-secondary);border-radius:var(--radius-md);align-items:flex-start}.tarifs-payment-icon{display:flex;align-items:center;justify-content:center;flex-shrink:0;width:40px;height:40px;color:var(--primary)}.tarifs-payment-text strong{display:block;color:var(--text-primary);margin-bottom:.25rem}.tarifs-payment-text p{margin:0;font-size:.9rem}.tarifs-address{font-style:italic;color:var(--text-secondary);margin-top:.5rem!important}.tarifs-mediation-box{background:linear-gradient(135deg,#28a7451a,#28a74508);border:2px solid rgba(40,167,69,.2);border-radius:var(--radius-lg);padding:1.5rem;margin-bottom:1.5rem}.tarifs-mediation-question{font-size:1.1rem;text-align:center;margin-bottom:1.25rem!important}.tarifs-price-highlight{color:#dc3545;font-size:1.3rem}.tarifs-mediation-choices{display:flex;flex-direction:column;gap:.75rem}.tarifs-choice{display:flex;align-items:center;gap:.75rem;padding:1rem;border-radius:var(--radius-md);background:var(--bg-main);border:1px solid var(--border)}.tarifs-choice-icon{display:flex;align-items:center;justify-content:center;color:var(--primary)}.tarifs-choice--pass{border-color:#28a745;background:#28a7450d}.tarifs-pass-details{display:block;font-size:.85rem;color:var(--text-secondary);margin-top:.25rem}.tarifs-choice-separator{text-align:center;font-weight:700;color:var(--text-secondary);padding:.25rem 0}.tarifs-mediation-conditions{background:var(--bg-secondary);border-radius:var(--radius-md);padding:1.25rem}.tarifs-mediation-conditions h4{margin:0 0 .75rem;color:var(--text-primary)}.tarifs-mediation-docs{margin-top:1rem;padding-top:1rem;border-top:1px solid var(--border)}body.dark-theme .tarifs-nav-card{background:#ffffff08}body.dark-theme .tarifs-cta-section{background:#4aa3ff0d;border-color:#4aa3ff26}body.dark-theme .tarifs-list-locations li,body.dark-theme .tarifs-payment-option,body.dark-theme .tarifs-mediation-conditions,body.dark-theme .tarifs-distributeur-features{background:#ffffff08}body.dark-theme .tarifs-mediation-box{background:#28a74514}body.dark-theme .tarifs-choice{background:#ffffff08}@media (max-width: 768px){#main-header{padding:.5rem .75rem}.header-logo-link{font-size:1.1rem}.header-logo{width:28px;height:28px}.header-nav{gap:.25rem}.nav-dropdown-toggle{padding:.5rem .6rem;font-size:.8rem}.nav-dropdown-toggle svg{display:none}.nav-dropdown-menu{min-width:180px;right:0;left:auto}.hero-section{min-height:180px;padding:1.5rem 1rem 3rem}.hero-headline{font-size:1.4rem;margin-bottom:1.5rem}.hero-headline .hero-subtitle{margin-top:.75rem}.hero-subtext{font-size:.9rem}.planner-block{padding:1rem;margin:-1rem 0 1rem}.planner-block-wrapper{margin-top:1rem}.itinerary-inputs{gap:.5rem}.input-group{padding:.6rem .75rem}.input-group input{font-size:.95rem}.services-section{padding:1rem .75rem}.services-grid{grid-template-columns:1fr;gap:.75rem}.service-card{padding:1rem}.service-icon{width:40px;height:40px;font-size:1.25rem}.service-title{font-size:.95rem}.stats-section{padding:1.5rem .75rem}.stats-container{gap:1rem}.stat-item{min-width:80px}.stat-number{font-size:1.5rem}.promo-banner{margin:1rem .75rem;padding:1rem;flex-direction:column;text-align:center}.promo-content h3{font-size:1rem}#site-footer{padding:0}.footer-content{padding:1rem .75rem}.footer-main{display:none}.footer-bottom{flex-direction:column;gap:.5rem;padding:0;text-align:center}.footer-independent{background:none;padding:0;font-size:.7rem}.footer-copyright{font-size:.7rem}.tarifs-page{padding:1rem .75rem}.tarifs-header h1{font-size:1.5rem}.tarifs-card{padding:1.25rem}.tarifs-section-title{font-size:1.15rem}.tarifs-buy-item{flex-direction:column;align-items:flex-start;gap:.75rem}.tarifs-feature{flex-direction:column}.tarifs-download-btn{width:100%;justify-content:center;text-align:center}.tarifs-info-item{flex-direction:column;gap:.5rem}.tarifs-nav-grid{grid-template-columns:1fr}.tarifs-app-links{flex-direction:column}.tarifs-app-btn{justify-content:center}.tarifs-payment-option{flex-direction:column;text-align:center}.tarifs-feature-benefits{flex-wrap:wrap;justify-content:center}#map-container{height:calc(100vh - 60px)}.bottom-sheet{max-height:70vh}#dashboard-container{padding-bottom:0}.card{padding:1rem;margin:.5rem .75rem}}@media (max-width: 480px){.hero-headline{font-size:1.2rem}.nav-dropdown-toggle{padding:.4rem .5rem;font-size:.75rem}.header-logo-link span{display:none}.planner-block{margin:-1.5rem 0 .75rem}.services-section,.stats-section{padding:.75rem .5rem}.tarifs-card{padding:1rem}.tarifs-section-title{font-size:1.05rem;flex-wrap:wrap}}@media (max-width: 480px){.stop-schedule-popup .leaflet-popup-content{min-width:260px;max-width:300px;max-height:280px}.stop-popup-v105 .popup-line-header{padding:.625rem .875rem}.stop-popup-v105 .popup-badge{min-width:28px;height:20px;font-size:.75rem}.stop-popup-v105 .popup-stop-name{font-size:.8125rem}.stop-popup-v105 .popup-dest-row{padding:.5rem .875rem}.stop-popup-v105 .popup-dest-name{font-size:.8125rem;margin-bottom:.375rem}.stop-popup-v105 .popup-time{padding:.1875rem .375rem;font-size:.75rem}.line-departures-group{padding:.625rem}.line-header .departure-badge{min-width:28px;padding:.15rem .35rem;font-size:.7rem}.line-header .departure-dest{font-size:.75rem}.departure-times-list{gap:.25rem}.departure-time-chip{padding:.25rem .4rem;font-size:.75rem;min-width:44px}.departure-time-chip small{font-size:.6rem}}.btn-geolocate{width:36px;height:36px;min-width:36px;min-height:36px;right:.5rem;top:50%;transform:translateY(-50%)}.btn-geolocate svg{width:18px;height:18px}.accordion-group summary{min-height:52px;padding:1rem 1.25rem;-webkit-tap-highlight-color:transparent}.accordion-group summary:active{background:var(--bg-tertiary);transform:scale(.995)}.quick-action-card{min-height:80px;-webkit-tap-highlight-color:transparent}.quick-action-card:active{transform:scale(.97);box-shadow:0 2px 8px #0000001f}.btn:active{transform:scale(.96);transition:transform .1s ease}.btn-geolocate,.btn-geolocate:hover,.btn-geolocate:active,.btn-geolocate:focus{transform:translateY(-50%)!important}.tab{min-height:44px;padding:.75rem 1.25rem}.tab:active{background:var(--bg-tertiary)}.news-banner-link{min-height:36px;min-width:44px;display:inline-flex;align-items:center;justify-content:center}@media (max-width: 768px){.autocomplete-suggestions,#horaires-search-results,#from-suggestions,#to-suggestions,#results-from-suggestions,#results-to-suggestions{max-height:45vh;border-radius:var(--radius-lg);box-shadow:0 -4px 20px #00000026,0 8px 30px #0003}.autocomplete-item,.search-result-item{min-height:52px;padding:.875rem 1rem;display:flex;align-items:center}.autocomplete-item:active,.search-result-item:active{background:var(--primary);color:#fff}}@media (max-width: 480px){.news-banner{flex-wrap:nowrap;gap:.5rem;padding:.75rem}.news-banner-icon{width:32px;height:32px;flex-shrink:0}.news-banner-icon svg{width:16px;height:16px}.news-banner-content{flex:1;min-width:0;overflow:hidden}.news-banner-label{font-size:.65rem}.news-banner-link{padding:.3rem .6rem;font-size:.7rem;flex-shrink:0}.news-banner-text{font-size:.8rem;white-space:nowrap;overflow:hidden}.news-banner-text.marquee-active .marquee-inner{animation-duration:12s}}#itinerary-detail-backdrop{background:#000;backdrop-filter:none;-webkit-backdrop-filter:none;transition:opacity .35s cubic-bezier(.32,.72,0,1)}@media (max-width: 768px){#detail-bottom-sheet{border-radius:16px 16px 0 0;box-shadow:0 -8px 32px #0000001f,0 -2px 8px #00000014,inset 0 1px #ffffff1a;transition:transform .4s cubic-bezier(.32,.72,0,1),height .35s cubic-bezier(.32,.72,0,1);will-change:transform,height;-webkit-overflow-scrolling:touch}#detail-bottom-sheet .panel-handle{display:none}#detail-bottom-sheet.is-dragging{transition:none!important;will-change:transform}#detail-bottom-sheet.is-expanded{border-radius:12px 12px 0 0}#detail-bottom-sheet.is-expanded .panel-handle{background:#0000001f;background-clip:content-box}#detail-bottom-sheet:not(.is-expanded):after{display:none}#detail-panel-wrapper{-webkit-overflow-scrolling:touch;scroll-behavior:smooth;overscroll-behavior-y:contain}#itinerary-detail-container.is-scrolled #detail-bottom-sheet:before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:var(--border);opacity:.5}}@keyframes bottomSheetSlideUp{0%{transform:translateY(100%);opacity:.8}to{transform:translateY(0);opacity:1}}body.dark-theme #itinerary-detail-backdrop{background:#000}body.dark-theme #detail-bottom-sheet{background:#0f172a;box-shadow:0 -8px 32px #00000080}body.dark-theme #detail-bottom-sheet:before{background:#ffffff40}body.dark-theme #detail-bottom-sheet:after{background:#0f172a}body.dark-theme #detail-panel-content{background:#0f172a}body.dark-theme .accordion-group summary{background:var(--bg-secondary)}body.dark-theme .accordion-group summary:hover,body.dark-theme .accordion-group summary:active{background:var(--bg-tertiary)}body.dark-theme .accordion-group details[open] summary{background:var(--bg-main)}body.dark-theme .accordion-content{background:var(--bg-main)}body.dark-theme .news-banner{background:#0f172af2;border-color:#ffffff14}body.dark-theme .news-banner-icon{background:#2a9d8f26}body.dark-theme .news-banner-text{color:var(--text-primary)}body.dark-theme .autocomplete-suggestions,body.dark-theme #horaires-search-results{background:#0f172a;border-color:#ffffff1a;box-shadow:0 8px 32px #00000080}body.dark-theme .autocomplete-item:hover,body.dark-theme .search-result-item:hover{background:#ffffff0d}body.dark-theme .autocomplete-item:active,body.dark-theme .search-result-item:active{background:var(--primary)}body.dark-theme .planner-block{background:#0f172af2;border-color:#ffffff14}body.dark-theme .planner-block input[type=text]{background:#ffffff0d;border-color:#ffffff1a;color:var(--text-primary)}body.dark-theme .planner-block input[type=text]:focus{background:#ffffff14;border-color:var(--primary)}body.dark-theme .planner-title{color:var(--text-primary)}body.dark-theme .btn-swap-direction{background:#ffffff0d;border-color:#ffffff1a;color:var(--text-secondary)}body.dark-theme .btn-swap-direction:hover{background:#2a9d8f26;border-color:#2a9d8f;color:#2a9d8f}body.dark-theme .swap-line{background:#ffffff1a}body.dark-theme .btn-when{background:#ffffff0d;border-color:#ffffff1a;color:var(--text-primary)}body.dark-theme .btn-when:hover{background:#ffffff14;border-color:#ffffff26}body.dark-theme #planner-options-popover,body.dark-theme #results-planner-options-popover{background:#0f172a;border-color:#ffffff1a;box-shadow:0 8px 32px #00000080}body.dark-theme .popover-tab{color:var(--text-secondary)}body.dark-theme .popover-tab.active{color:var(--primary);border-color:var(--primary)}body.dark-theme .real-select{background:#ffffff0d;border-color:#ffffff1a;color:var(--text-primary)}body.dark-theme .step-detail{border-color:#ffffff0f}body.dark-theme .step-icon{background:#ffffff0d}body.dark-theme .step-walk-icon,body.dark-theme .step-destination-icon{background:#ffffff14;color:var(--text-secondary)}body.dark-theme .route-card{background:#ffffff08;border-color:#ffffff0f}body.dark-theme .route-card:hover{background:#ffffff0d;border-color:#ffffff1a}body.dark-theme .route-card.is-selected{background:#2563eb1a;border-color:var(--primary)}@media (max-width: 768px){body.dark-theme #route-filter-panel{background:#0a0f18;border-top:1px solid rgba(255,255,255,.08)}}body.dark-theme #results-side-panel{background:#0f172a}body.dark-theme .itinerary-edit-header{border-color:#ffffff0f}body.dark-theme .itinerary-edit-header h2{color:var(--text-primary)}body.dark-theme .mode-tab{background:#ffffff08;border-color:#ffffff14;color:var(--text-secondary)}body.dark-theme .mode-tab.active{background:var(--primary);color:#fff;border-color:var(--primary)}@media (max-width: 768px){.planner-block{margin:0 0 1rem;border-radius:var(--radius-lg)}.planner-block .form-group input[type=text]{min-height:52px;font-size:1rem}#planner-submit-btn,#results-planner-submit-btn{min-height:52px;font-size:1rem;font-weight:600}}*{scrollbar-width:thin;scrollbar-color:rgba(0,0,0,.2) transparent}*::-webkit-scrollbar{width:6px;height:6px}*::-webkit-scrollbar-track{background:transparent}*::-webkit-scrollbar-thumb{background:#0003;border-radius:3px}*::-webkit-scrollbar-thumb:hover{background:#0000004d}body.dark-theme *{scrollbar-color:rgba(255,255,255,.15) transparent}body.dark-theme *::-webkit-scrollbar-thumb{background:#ffffff26}body.dark-theme *::-webkit-scrollbar-thumb:hover{background:#ffffff40}@supports (padding: env(safe-area-inset-bottom)){@media (max-width: 768px){#detail-bottom-sheet{padding-bottom:calc(12px + env(safe-area-inset-bottom))}#route-filter-panel{padding-bottom:calc(1rem + env(safe-area-inset-bottom))}.results-list{padding-bottom:calc(2rem + env(safe-area-inset-bottom))}.autocomplete-suggestions{max-height:calc(45vh - env(safe-area-inset-bottom))}}}#results-side-panel{background:#f8fafc}body.dark-theme #results-side-panel{background:#0c1220}.itinerary-edit-header{padding:1rem 1.25rem .75rem;border-bottom:none}.itinerary-edit-header h2{font-size:1.25rem;font-weight:700;letter-spacing:-.01em}#itinerary-edit-panel{background:transparent;padding:0 1.25rem 1rem;border-bottom:1px solid #e5e7eb}body.dark-theme #itinerary-edit-panel{border-bottom-color:#ffffff0f}.itinerary-edit-form .form-group input[type=text],#results-planner-from,#results-planner-to{background:#fff;border:1px solid #e5e7eb;border-radius:8px;padding:.75rem 1rem;font-size:.9rem;min-height:44px;box-shadow:none}body.dark-theme .itinerary-edit-form .form-group input[type=text],body.dark-theme #results-planner-from,body.dark-theme #results-planner-to{background:#ffffff0a;border-color:#ffffff14}.itinerary-edit-form .form-group input[type=text]:focus,#results-planner-from:focus,#results-planner-to:focus{border-color:#2563eb;box-shadow:0 0 0 2px #2563eb1a}.itinerary-edit-form .form-group label{font-size:.65rem;font-weight:600;color:#94a3b8;text-transform:uppercase;letter-spacing:.08em}#results-mode-tabs{display:flex;background:transparent;padding:.75rem 1rem;gap:0;border-bottom:1px solid #e5e7eb}body.dark-theme #results-mode-tabs{border-bottom-color:#ffffff0f}.mode-tab{flex:1;display:flex;flex-direction:column;align-items:center;gap:.25rem;padding:.625rem .5rem;background:transparent;border:none;border-radius:12px;cursor:pointer;transition:all .2s ease;position:relative}.mode-tab:after{content:"";position:absolute;bottom:-.75rem;left:50%;transform:translate(-50%);width:0;height:3px;background:#2563eb;border-radius:2px;transition:width .2s ease}.mode-tab:hover{background:#2563eb0a}.mode-tab.active{background:#2563eb14}.mode-tab.active:after{width:24px}.mode-tab svg{width:22px;height:22px;color:#64748b;transition:color .2s ease}.mode-tab.active svg{color:#2563eb}.mode-tab-duration{font-size:.8rem;font-weight:600;color:#1e293b}body.dark-theme .mode-tab-duration{color:#e2e8f0}.mode-tab.active .mode-tab-duration{color:#2563eb}.mode-tab-duration.empty{color:#94a3b8;font-weight:500}.results-list{padding:.75rem;background:transparent}.route-option-title{font-size:.7rem;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.08em;margin:1rem .5rem .5rem;padding:0}body.dark-theme .route-option-title{color:#94a3b8}.route-option{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:1rem;margin-bottom:.625rem;cursor:pointer;transition:all .15s ease;gap:.625rem}.route-option:hover{border-color:#cbd5e1;box-shadow:0 2px 8px #0000000a}.route-option.is-active{border-color:#2563eb;box-shadow:0 0 0 2px #2563eb1f;background:#fafbff}body.dark-theme .route-option{background:#ffffff08;border-color:#ffffff0f}body.dark-theme .route-option:hover{background:#ffffff0d;border-color:#ffffff1a}body.dark-theme .route-option.is-active{background:#2563eb1a;border-color:#2563eb}.route-summary-bus-icon{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:6px;background:#f1f5f9;border:none;color:#64748b;font-size:0;padding:0}body.dark-theme .route-summary-bus-icon{background:#ffffff14;color:#94a3b8}.route-summary-walk-icon{display:inline-flex;align-items:center;justify-content:center;color:#94a3b8}.route-summary-walk-icon svg{width:16px;height:16px}.route-summary-dot{color:#cbd5e1;font-size:.5rem;margin:0 .125rem}body.dark-theme .route-summary-dot{color:#fff3}.route-line-badge{display:inline-flex;align-items:center;justify-content:center;font-weight:700;font-size:.8rem;border-radius:6px;min-width:36px;height:26px;padding:0 .5rem;box-shadow:none;letter-spacing:.02em}.route-footer{display:flex;justify-content:space-between;align-items:center;margin-top:.25rem}.route-time{font-size:.95rem;font-weight:700;color:#1e293b;letter-spacing:-.01em}body.dark-theme .route-time{color:#f1f5f9}.route-duration{font-size:.9rem;font-weight:600;color:#64748b}.route-duration-eco{display:inline-flex;align-items:center;gap:.25rem;color:#059669;font-weight:700}.route-duration-eco svg{width:14px;height:14px}.route-next-departures{display:flex;align-items:center;gap:.375rem;flex-wrap:wrap;padding-top:.625rem;margin-top:.625rem;border-top:1px solid #f1f5f9;font-size:.75rem}.next-departures-label{font-weight:500;color:#94a3b8}.next-departures-time{display:inline-flex;align-items:center;padding:.2rem .5rem;background:#f1f5f9;border-radius:4px;font-weight:600;color:#475569}body.dark-theme .next-departures-time{background:#ffffff0f;color:#94a3b8}.next-departures-more{color:#94a3b8;font-weight:500}.btn-full-width{background:#2563eb;color:#fff;border:none;border-radius:8px;padding:.75rem 1rem;font-size:.9rem;font-weight:600;transition:background .15s ease}.btn-full-width:hover{background:#1d4ed8}.load-more-wrapper{padding:.75rem}.load-more-wrapper .btn,.load-more-departures .btn{background:transparent;border:1px solid #e5e7eb;color:#475569;border-radius:8px;padding:.625rem 1rem;font-size:.85rem;font-weight:500;width:100%;justify-content:center}.load-more-wrapper .btn:hover,.load-more-departures .btn:hover{background:#f8fafc;border-color:#cbd5e1}body.dark-theme .load-more-wrapper .btn,body.dark-theme .load-more-departures .btn{background:transparent;border-color:#ffffff1a;color:#94a3b8}body.dark-theme .load-more-wrapper .btn:hover,body.dark-theme .load-more-departures .btn:hover{background:#ffffff0a}.btn-when,.btn-when-inline{background:#fff;border:1px solid #e5e7eb;border-radius:8px;padding:.625rem 1rem;font-size:.875rem;color:#1e293b;display:flex;align-items:center;justify-content:space-between;width:100%;cursor:pointer;transition:all .15s ease}.btn-when:hover,.btn-when-inline:hover{border-color:#cbd5e1;background:#fafafa}.btn-when svg,.btn-when-inline svg{color:#94a3b8;width:18px;height:18px}@media (max-width: 768px){#results-side-panel{background:#f8fafc}body.dark-theme #results-side-panel{background:#0a0f18}.itinerary-edit-header{padding:.875rem 1rem .5rem}.itinerary-edit-header h2{font-size:1.125rem}#itinerary-edit-panel{padding:0 1rem .875rem}#results-mode-tabs{padding:.625rem .75rem}.mode-tab{padding:.5rem .25rem}.mode-tab svg{width:20px;height:20px}.mode-tab-duration{font-size:.75rem}.results-list{padding:.5rem}.route-option{padding:.875rem;margin-bottom:.5rem;border-radius:10px}.route-line-badge{min-width:32px;height:24px;font-size:.75rem;border-radius:5px}.route-time{font-size:.9rem}.route-duration{font-size:.85rem}}#results-mode-tabs{display:flex;background:#fff;padding:.5rem;gap:.25rem;border-bottom:none;margin:0 .75rem;border-radius:14px;box-shadow:inset 0 0 0 1px #0000000f}body.dark-theme #results-mode-tabs{background:#ffffff0a;box-shadow:inset 0 0 0 1px #ffffff0f}.mode-tab{flex:1;display:flex;flex-direction:column;align-items:center;gap:.125rem;padding:.5rem .375rem;background:transparent;border:none;border-radius:10px;cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);position:relative}.mode-tab:after{display:none}.mode-tab:hover{background:#0000000a}body.dark-theme .mode-tab:hover{background:#ffffff0f}.mode-tab.active{background:#2563eb;box-shadow:0 2px 8px #2563eb4d}body.dark-theme .mode-tab.active{background:#3b82f6;box-shadow:0 2px 12px #3b82f666}.mode-tab svg{width:20px;height:20px;color:#64748b;transition:all .2s ease}body.dark-theme .mode-tab svg{color:#94a3b8}.mode-tab.active svg{color:#fff}.mode-tab-duration{font-size:.7rem;font-weight:600;color:#64748b;letter-spacing:-.01em}body.dark-theme .mode-tab-duration{color:#94a3b8}.mode-tab.active .mode-tab-duration{color:#fffffff2}.mode-tab-duration.empty{opacity:.5}.route-option{background:#fff;border:none;border-radius:16px;padding:1rem 1.125rem;margin-bottom:.5rem;cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);box-shadow:0 1px 3px #0000000d,0 1px 2px #00000008}.route-option:hover{transform:translateY(-1px);box-shadow:0 4px 12px #00000014,0 2px 4px #0000000a}.route-option:active{transform:translateY(0);box-shadow:0 1px 3px #0000000d}.route-option.is-active{background:linear-gradient(135deg,#eff6ff,#f0f9ff);box-shadow:0 0 0 2px #2563eb,0 4px 12px #2563eb26}body.dark-theme .route-option{background:#ffffff08;box-shadow:0 1px 3px #0003,inset 0 0 0 1px #ffffff0a}body.dark-theme .route-option:hover{background:#ffffff0d;box-shadow:0 4px 16px #0000004d,inset 0 0 0 1px #ffffff0f}body.dark-theme .route-option.is-active{background:#2563eb26;box-shadow:0 0 0 2px #3b82f6,0 4px 16px #3b82f640}.route-summary-line{display:flex;align-items:center;gap:.375rem;flex-wrap:wrap}.route-summary-bike-icon{background:linear-gradient(135deg,#ecfdf5,#d1fae5)!important;color:#059669!important}body.dark-theme .route-summary-bike-icon{background:#05966926!important;color:#34d399!important}.route-summary-walk-only-icon{background:linear-gradient(135deg,#fef3c7,#fde68a)!important;color:#d97706!important}body.dark-theme .route-summary-walk-only-icon{background:#d9770626!important;color:#fbbf24!important}.route-type-label{font-weight:600;font-size:.875rem;color:#1e293b}body.dark-theme .route-type-label{color:#f1f5f9}.route-type-distance{font-size:.8rem;color:#64748b;margin-left:.25rem}body.dark-theme .route-type-distance{color:#94a3b8}.route-summary-bus-icon{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:8px;background:linear-gradient(135deg,#eff6ff,#e0f2fe);border:none;color:#2563eb;padding:0}.route-summary-bus-icon svg{width:16px;height:16px}body.dark-theme .route-summary-bus-icon{background:#3b82f626;color:#60a5fa}.route-summary-walk-icon{display:inline-flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:6px;background:#94a3b826;color:#64748b}.route-summary-walk-icon svg{width:14px;height:14px}body.dark-theme .route-summary-walk-icon{background:#94a3b81a;color:#94a3b8}.route-summary-dot{display:inline-flex;align-items:center;justify-content:center;color:#94a3b8;font-size:.5rem;margin:0 .25rem;font-weight:700}body.dark-theme .route-summary-dot{color:#64748b}.route-line-badge{display:inline-flex;align-items:center;justify-content:center;font-weight:700;font-size:.75rem;border-radius:8px;min-width:40px;height:28px;padding:0 .625rem;box-shadow:0 1px 3px #0000001f;letter-spacing:.02em;text-transform:uppercase}.route-footer{display:flex;justify-content:space-between;align-items:center;margin-top:.625rem;padding-top:.5rem}.route-time{font-size:1rem;font-weight:700;color:#0f172a;letter-spacing:-.02em;font-variant-numeric:tabular-nums}body.dark-theme .route-time{color:#f8fafc}.route-duration{font-size:.875rem;font-weight:600;color:#64748b;font-variant-numeric:tabular-nums}body.dark-theme .route-duration{color:#94a3b8}.route-duration-eco{display:inline-flex;align-items:center;gap:.375rem;color:#059669;font-weight:700;background:linear-gradient(135deg,#ecfdf5,#d1fae5);padding:.25rem .625rem;border-radius:6px}body.dark-theme .route-duration-eco{background:#05966926;color:#34d399}.route-duration-eco svg{width:12px;height:12px}.route-next-departures{display:flex;align-items:center;gap:.375rem;flex-wrap:wrap;padding-top:.625rem;margin-top:.5rem;border-top:1px solid rgba(0,0,0,.04);font-size:.75rem}body.dark-theme .route-next-departures{border-top-color:#ffffff0a}.next-departures-label{font-weight:500;color:#94a3b8;font-size:.7rem;text-transform:uppercase;letter-spacing:.04em}.next-departures-time{display:inline-flex;align-items:center;padding:.25rem .5rem;background:#f1f5f9;border-radius:6px;font-weight:600;font-size:.7rem;color:#475569;font-variant-numeric:tabular-nums}body.dark-theme .next-departures-time{background:#ffffff0f;color:#cbd5e1}.next-departures-more{color:#2563eb;font-weight:600;font-size:.7rem}body.dark-theme .next-departures-more{color:#60a5fa}.route-option-title{font-size:.65rem;font-weight:700;color:#94a3b8;text-transform:uppercase;letter-spacing:.1em;margin:.75rem .25rem .5rem;padding:0}body.dark-theme .route-option-title{color:#64748b}.btn-when,.btn-when-inline{background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:12px;padding:.75rem 1rem;font-size:.875rem;font-weight:500;color:#1e293b;display:flex;align-items:center;justify-content:space-between;width:100%;cursor:pointer;transition:all .15s ease;box-shadow:0 1px 2px #0000000a}.btn-when:hover,.btn-when-inline:hover{background:#f8fafc;border-color:#0000001f}body.dark-theme .btn-when,body.dark-theme .btn-when-inline{background:#ffffff0a;border-color:#ffffff14;color:#e2e8f0}body.dark-theme .btn-when:hover,body.dark-theme .btn-when-inline:hover{background:#ffffff0f}.btn-when svg,.btn-when-inline svg{color:#94a3b8;width:18px;height:18px;transition:transform .2s ease}.btn-when:hover svg,.btn-when-inline:hover svg{transform:translateY(1px)}.load-more-wrapper{padding:.5rem}.load-more-wrapper .btn,.load-more-departures .btn{background:transparent;border:1px dashed rgba(0,0,0,.12);color:#64748b;border-radius:12px;padding:.75rem 1rem;font-size:.8rem;font-weight:600;width:100%;justify-content:center;transition:all .15s ease}.load-more-wrapper .btn:hover,.load-more-departures .btn:hover{background:#2563eb0a;border-color:#2563eb;border-style:solid;color:#2563eb}body.dark-theme .load-more-wrapper .btn,body.dark-theme .load-more-departures .btn{border-color:#ffffff1a;color:#94a3b8}body.dark-theme .load-more-wrapper .btn:hover,body.dark-theme .load-more-departures .btn:hover{background:#3b82f61a;border-color:#3b82f6;color:#60a5fa}.results-list{padding:.5rem .75rem 1rem;background:transparent}#results-side-panel{background:linear-gradient(180deg,#f8fafc,#f1f5f9)}body.dark-theme #results-side-panel{background:linear-gradient(180deg,#0c1220,#0a0f18)}.itinerary-edit-form .form-group input[type=text],#results-planner-from,#results-planner-to{background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:12px;padding:.875rem 1rem;font-size:.9rem;font-weight:500;min-height:48px;box-shadow:0 1px 2px #0000000a;transition:all .15s ease}.itinerary-edit-form .form-group input[type=text]:focus,#results-planner-from:focus,#results-planner-to:focus{border-color:#2563eb;box-shadow:0 0 0 3px #2563eb1a,0 1px 2px #0000000a;outline:none}body.dark-theme .itinerary-edit-form .form-group input[type=text],body.dark-theme #results-planner-from,body.dark-theme #results-planner-to{background:#ffffff0a;border-color:#ffffff14;color:#f1f5f9}body.dark-theme .itinerary-edit-form .form-group input[type=text]:focus,body.dark-theme #results-planner-from:focus,body.dark-theme #results-planner-to:focus{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f626}#planner-submit-btn,#results-planner-submit-btn{background:linear-gradient(135deg,#2563eb,#1d4ed8);color:#fff;border:none;border-radius:12px;padding:.875rem 1.5rem;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .2s ease;box-shadow:0 2px 8px #2563eb4d}#planner-submit-btn:hover,#results-planner-submit-btn:hover{background:linear-gradient(135deg,#1d4ed8,#1e40af);box-shadow:0 4px 12px #2563eb66;transform:translateY(-1px)}#planner-submit-btn:active,#results-planner-submit-btn:active{transform:translateY(0);box-shadow:0 2px 4px #2563eb4d}@keyframes fadeInUp{0%{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}.route-option-wrapper{animation:fadeInUp .25s ease-out}.route-option-wrapper:nth-child(2){animation-delay:.03s}.route-option-wrapper:nth-child(3){animation-delay:.06s}.route-option-wrapper:nth-child(4){animation-delay:.09s}.route-option-wrapper:nth-child(5){animation-delay:.12s}@media (max-width: 768px){#results-mode-tabs{margin:0 .5rem;padding:.375rem;border-radius:12px}.mode-tab{padding:.375rem .25rem;border-radius:8px}.mode-tab svg{width:18px;height:18px}.mode-tab-duration{font-size:.65rem}.results-list{padding:.375rem .5rem 1rem}.route-option{padding:.875rem 1rem;margin-bottom:.375rem;border-radius:14px}.route-summary-bus-icon{width:26px;height:26px;border-radius:7px}.route-summary-bus-icon svg{width:14px;height:14px}.route-line-badge{min-width:36px;height:26px;font-size:.7rem;border-radius:7px}.route-time{font-size:.95rem}.route-duration{font-size:.8rem}.route-next-departures{gap:.25rem}.next-departures-time{padding:.2rem .375rem;font-size:.65rem}.btn-when,.btn-when-inline{border-radius:10px;padding:.625rem .875rem}}
